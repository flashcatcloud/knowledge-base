---
title: "Feishu/Lark Integration"
description: "By integrating a custom Feishu/Lark application, you can receive and respond to alerts within Feishu/Lark."
date: "2025-05-19T10:00:00+08:00"
url: "https://docs.flashcat.cloud/en/flashduty/lark-integration-guide?nav=01JCQ7A4N4WRWNXW8EWEHXCMF5"
---
By integrating a custom Feishu/Lark application, you can receive and respond to alerts within Feishu/Lark.

<div class="hide">

## Watch videos
---
<Video src="https://download.flashcat.cloud/flashduty/video/feishu.mp4"></Video>
</div>

## 1. Create Feishu/Lark application
---

### 1. Create a custom application

Visit [Feishu/Lark Developer Console](https://open.feishu.cn/app) and create an internal custom application. You can use the [official Flashduty icon](https://download.flashcat.cloud/flashcat_logo_circular.png) for the application icon.

For details, see the Feishu/Lark development documentation [Create an internal custom application](https://open.feishu.cn/document/uYjL24iN/uMTMuMTMuMTM/development-guide/step1#132c1aac).

![2025-09-11-11-58-10](https://docs-cdn.flashcat.cloud/images/png/4d86df2305e788e1464b170835dec13d.png)

### 2. Copy credential information

Go to the **Credentials and Basic Information** page and copy the `App ID` and `App Secret` for later use.


![2025-09-11-12-00-22](https://docs-cdn.flashcat.cloud/images/png/903780c245c7ff2119c9885bb4adf151.png)

### 3. Copy the event callback Token information

Go to Development Configuration → Events & Callbacks → **Encryption Strategy** page, generate and copy the `Encrypt Key` (recommended for better security) and `Verification Token` for later use.

![2025-09-11-12-02-33](https://docs-cdn.flashcat.cloud/images/png/10870591ec4c450c6014119a6f2b6b84.png)

## 2. Add Feishu/Lark integration
---

Return to the Flashduty **Integration Center** page, select IM → **Feishu/Lark**, fill in the `Name` and the `App ID`, `App Secret`, `Verification Token`, and `Encrypt Key` copied in the previous step, then click **Save** to complete the creation.

<img src="https://download.flashcat.cloud/feishu-app-integration-upsert-3.png" alt="drawing" width="800"/>

After successful creation, you will see the added Feishu/Lark integration in the list. Click its name to enter the details page, where you can view the **Web Configuration** address, **Redirect URL**, and **Message Card Request URL**, which will be used in subsequent steps.

![2025-09-11-14-23-52](https://docs-cdn.flashcat.cloud/images/png/bf2ae6f78c0637e8dfc7d46394e64fa5.png)

## 3. Configure Feishu/Lark application
---

### 1. Enable and configure application capabilities

1. Return to the Feishu/Lark Developer Console, enter the created Feishu/Lark application, go to Add Application Capabilities → **Add by Capability** page, and enable both **Web Application** and **Bot** capabilities.

![2025-09-11-12-05-32](https://docs-cdn.flashcat.cloud/images/png/7f7a6417533dda0617e55a7729c3d18a.png)

2. Go to the **Web Application** page and configure the `Desktop Homepage` and `Mobile Homepage`, both using the **Web Configuration** address from the integration details.

For details, see the Feishu/Lark development documentation [Configure application homepage address](https://open.feishu.cn/document/uYjL24iN/uMTMuMTMuMTM/development-guide/step1#8366b844).

<img src="https://download.flashcat.cloud/feishu-self-app-web-config-1.png" alt="drawing" width="800"/>

3. Go to Event Callbacks → **Callback Configuration** page, configure the `Subscription Method` (using the **Message Card Request URL** from the integration details). Then, subscribe to the following two callback events:

- `card.action.trigger`
- `card.action.trigger_v1`

![2025-09-11-11-25-32](https://docs-cdn.flashcat.cloud/images/png/948b242146b641671795600473401439.png)

### 2. Add redirect URL to Feishu/Lark application

Go to the **Security Settings** page and configure the `Redirect URL` using the **Redirect URL** from the integration details.

For details, see the Feishu/Lark development documentation [Configure redirect URL](https://open.feishu.cn/document/uYjL24iN/uYjN3QjL2YzN04iN2cDN?lang=zh-CN#c863e533).

![2025-09-11-11-29-49](https://docs-cdn.flashcat.cloud/images/png/263849573db72f0ca6253b5d8572da94.png)

### 3. Apply for application permissions

Go to the **Permission Management** page and apply for the following permissions for the group application created in the previous steps:

- `im:chat`: Get and update group information
- `im:message`: Get and send single chat and group messages
- `contact:user.id:readonly`: Get user ID by phone number or email (for configuring war rooms)<span id="war-room-scope"></span>


![2025-09-11-11-32-48](https://docs-cdn.flashcat.cloud/images/png/ad17a4dab9767327f86a33728ecf659f.png)

## 4. Application release and usage
---

After completing all the above configurations, please release the application. It can be used after administrator approval.

For details, see the Feishu/Lark development documentation [Application release and usage](https://open.feishu.cn/document/uYjL24iN/uMTMuMTMuMTM/development-guide/step-4).

> To ensure that everyone can use the application, adjust the application **visibility** to all employees before releasing the application.

![2025-09-11-12-07-30](https://docs-cdn.flashcat.cloud/images/png/f8262ed8cf28064c20e27d1a0c2afad6.png)


After the application is released, you can access it via **mobile** or **PC**. The first access requires login to link your Feishu/Lark and Flashduty accounts. Subsequent access will be login-free.

- **Mobile**: Access via Feishu/Lark → Workplace → Search for application name → **Open Application** to use the web application.
- **PC**: Access via Feishu/Lark → Workplace → Search for application name → **Open Application** to use the web application.

## 5. Configure war room

> Ensure the application has been authorized with the [additional permissions](#war-room-scope) required for the war room feature.

After completing the previous steps, in the **Enhanced Features** module of the Flashduty integration configuration page, check **Enable War Room** to enable this feature without additional configuration.

## 6. FAQ
---

1. **Messages cannot be delivered to individuals, and the operation log shows `app not linked`?**
   - Go to Feishu/Lark → Workplace → Search for application name → **Open Application**, complete login once to link your Feishu/Lark and Flashduty accounts, so the system can obtain user identity for message push.
2. **Message card buttons are unresponsive or show errors?**
   - Ensure the account has been linked. You can go to Feishu/Lark → Workplace → Search for application name → **Open Application** to complete login once. If you have already logged in, try clicking the menu in the upper right corner, switch accounts, and log in again to bind the account.
   - Ensure you have purchased sufficient licenses. You can check the license usage in Console → **Billing Center**.
3. **The Feishu/Lark group chat list in escalation rules is empty?**
   - Go to Feishu/Lark and add the created Flashduty bot to the specified group chat.
   - Return to the escalation rule configuration page, refresh and reselect the group chat list.

     <img alt="drawing" width="800" src="https://download.flashcat.cloud/feishu-self-app-invite-to-chat.jpeg" />
     <img src="https://download.flashcat.cloud/feishu-self-app-notify-rule.png" alt="drawing" width="800"/>
4. **Feishu/Lark custom application API limits?**
   - **Call volume limits:**

     | **Feishu/Lark Version** | **Total Calls/Month** | **Refresh Time** |
     | :---: | :---: | :---: |
     | Basic Free | 10,000 | 1st of each month |
     | Other Versions | Unlimited | - |

   - **Rate limits:**

     | **Scenario** | **Limit** |
     | :---: | :--- |
     | All APIs | Max 50 calls/second per app |
     | Send message APIs | Max 1000 calls/minute per app |
     | Group bot webhook | Max 100 calls/minute |
     | Send to same user or group | Max 5 calls/second |
   
   > After exceeding API call limits, the Feishu/Lark application will not be able to push messages normally. It is recommended to use notification channels reasonably. See [Feishu/Lark official documentation](https://open.feishu.cn/document/uAjLw4CM/ugTN1YjL4UTN24CO1UjN/platform-updates-/custom-app-api-call-limit) for details.
5. **Why is the war room feature not working as expected?**
   - Please check again whether you have configured the [required permissions](#war-room-scope) for the war room feature.
   - Please refer to the **FAQ** section of the Flashduty [War Room Introduction](https://docs.flashcat.cloud/en/flashduty/war-room?nav=01JCQ7A4N4WRWNXW8EWEHXCMF5).