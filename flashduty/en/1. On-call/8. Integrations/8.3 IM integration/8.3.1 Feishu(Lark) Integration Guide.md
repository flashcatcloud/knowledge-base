---
title: "Feishu/Lark Integration"
description: "By integrating a custom Feishu/Lark application, you can receive and respond to alerts within Feishu/Lark."
date: "2025-05-19T10:00:00+08:00"
url: "https://docs.flashcat.cloud/en/flashduty/lark-integration-guide?nav=01JCQ7A4N4WRWNXW8EWEHXCMF5"
---
By integrating a custom Feishu/Lark application, you can receive and respond to alerts within Feishu/Lark.

## 1. Create Feishu/Lark application
---

### 1. Create a custom application

Visit [Feishu/Lark Developer Console](https://open.feishu.cn/app) and create an internal custom application. You can use the [official Flashduty icon](https://download.flashcat.cloud/flashcat_logo_circular.png) for the application icon.

For details, see the Feishu/Lark development documentation [Create an internal custom application](https://open.feishu.cn/document/uYjL24iN/uMTMuMTMuMTM/development-guide/step1#132c1aac).

![2025-09-17-19-20-33](https://docs-cdn.flashcat.cloud/images/png/9af11beec76ef03b935e5ba71ac2f5f5.png)
### 2. Copy credential information

Go to the **Credentials and Basic Information** page and copy the `App ID` and `App Secret` for later use.


![2025-09-17-19-24-11](https://docs-cdn.flashcat.cloud/images/png/9b72a772eaa94a7115e8568e9ae7b496.png)

### 3. Copy the event callback Token information

Go to Development Configuration → Events & Callbacks → **Encryption Strategy** page, generate and copy the `Encrypt Key` (recommended for better security) and `Verification Token` for later use.

![2025-09-17-19-27-24](https://docs-cdn.flashcat.cloud/images/png/48d8ef62cef639cb433078c878c3a4a0.png)

## 2. Add Feishu/Lark integration
---

Return to the Flashduty **Integration Center** page, select IM → **Feishu/Lark**, fill in the `Name` and the `App ID`, `App Secret`, `Verification Token`, and `Encrypt Key` copied in the previous step, then click **Save** to complete the creation.

After successful creation, you will see the added Feishu/Lark integration in the list. Click its name to enter the details page, where you can view the **Web Configuration** address, **Redirect URL**, and **Message Card Request URL**, which will be used in subsequent steps.

![2025-09-17-19-32-56](https://docs-cdn.flashcat.cloud/images/png/b4bfa3d7fdf1af9b8006be168d454700.png)

## 3. Configure Feishu/Lark application
---

### 1. Enable and configure application capabilities

1. Return to the Feishu/Lark Developer Console, enter the created Feishu/Lark application, go to Add Application Capabilities → **Add by Capability** page, and enable both **Web Application** and **Bot** capabilities.

![2025-09-17-19-42-32](https://docs-cdn.flashcat.cloud/images/png/b12ddbeed2b8d7f508eccc1078c2c12c.png)

2. Go to the **Web app** page and configure the `Desktop Homepage` and `Mobile Homepage`, both using the **Web configuration** address from the integration details.

For details, see the Feishu/Lark development documentation [Configure application homepage address](https://open.feishu.cn/document/uYjL24iN/uMTMuMTMuMTM/development-guide/step1#8366b844).

![2025-09-17-19-49-19](https://docs-cdn.flashcat.cloud/images/png/393e7629de652d1793b69af7d4f3831c.png)

3. Go to Event Callbacks → **Callback Configuration** page, configure the `Subscription Method` (using the **Message Card Request URL** from the integration details). Then, subscribe to the following two callback events:

- `im.message.receive_v1`
- `im.chat.disbanded_v1`

![2025-09-17-19-53-14](https://docs-cdn.flashcat.cloud/images/png/c42542dc49930c2e20f5921749bf3565.png)

### 2. Add redirect URL to Feishu/Lark application

Go to the **Security Settings** page and configure the `Redirect URL` using the **Redirect URL** from the integration details.

For details, see the Feishu/Lark development documentation [Configure redirect URL](https://open.feishu.cn/document/uYjL24iN/uYjN3QjL2YzN04iN2cDN?lang=zh-CN#c863e533).

![2025-09-17-19-55-04](https://docs-cdn.flashcat.cloud/images/png/6f97810d9542514c40c276588179e04f.png)

### 3. Apply for application permissions

Go to the **Permission Management** page and apply for the following permissions for the group application created in the previous steps:

- `im:chat`: Get and update group information
- `im:message`: Get and send single chat and group messages
- `contact:user.id:readonly`: Get user ID by phone number or email (for configuring war rooms)<span id="war-room-scope"></span>

![2025-09-17-19-59-38](https://docs-cdn.flashcat.cloud/images/png/61cb9fbc295e94b4d9acd7e44ac75e13.png)

## 4. Application release
---

After completing all the above configurations, please release the application. It can be used after administrator approval.

For details, see the Feishu/Lark development documentation [Application release and usage](https://open.feishu.cn/document/uYjL24iN/uMTMuMTMuMTM/development-guide/step-4).

> To ensure that everyone can use the application, adjust the application **visibility** to all employees before releasing the application.

![2025-09-17-20-01-46](https://docs-cdn.flashcat.cloud/images/png/af3d458ed4c1a3e3346c91dc6a8fa667.png)


After the application is released, you can access it via **mobile** or **PC**. The first access requires login to link your Feishu/Lark and Flashduty accounts. Subsequent access will be login-free.

- **Mobile**: Access via Feishu/Lark → Workplace → Search for application name → **Open Application** to use the web application.
- **PC**: Access via Feishu/Lark → Workplace → Search for application name → **Open Application** to use the web application.

![2025-09-17-20-05-01](https://docs-cdn.flashcat.cloud/images/png/1da64327149790ceb45ff3b66476be7f.png)

## 5. Configure war room

> Ensure the application has been authorized with the [additional permissions](#war-room-scope) required for the war room feature.

After completing the previous steps, in the **Enhanced Features** module of the Flashduty integration configuration page, check **Enable War Room** to enable this feature without additional configuration.

## 6. FAQ
---

1. **Messages cannot be delivered to individuals, and the operation log shows `app not linked`?**
   - Go to Feishu/Lark → Workplace → Search for application name → **Open Application**, complete login once to link your Feishu/Lark and Flashduty accounts, so the system can obtain user identity for message push.
2. **Message card buttons are unresponsive or show errors?**
   - Ensure the account has been linked. You can go to Feishu/Lark → Workplace → Search for application name → **Open Application** to complete login once. If you have already logged in, try clicking the menu in the upper right corner, switch accounts, and log in again to bind the account.
   - Ensure you have purchased sufficient licenses. You can check the license usage in Console → **Billing Center**.
3. **The Feishu/Lark group chat list in escalation rules is empty?**
   - Go to Feishu/Lark and add the created Flashduty bot to the specified group chat.
   - Return to the escalation rule configuration page, refresh and reselect the group chat list.

![2025-09-18-14-26-32](https://docs-cdn.flashcat.cloud/images/png/a5878acb02929c9f660c549577de5c17.png)

4. **Feishu/Lark custom application API limits?**
   - **Call volume limits:**

     | **Feishu/Lark Version** | **Total Calls/Month** | **Refresh Time** |
     | :---: | :---: | :---: |
     | Basic Free | 10,000 | 1st of each month |
     | Other Versions | Unlimited | - |

   - **Rate limits:**

     | **Scenario** | **Limit** |
     | :---: | :--- |
     | All APIs | Max 50 calls/second per app |
     | Send message APIs | Max 1000 calls/minute per app |
     | Group bot webhook | Max 100 calls/minute |
     | Send to same user or group | Max 5 calls/second |
   
   > After exceeding API call limits, the Feishu/Lark application will not be able to push messages normally. It is recommended to use notification channels reasonably. See [Feishu/Lark official documentation](https://open.feishu.cn/document/uAjLw4CM/ugTN1YjL4UTN24CO1UjN/platform-updates-/custom-app-api-call-limit) for details.
5. **Why is the war room feature not working as expected?**
   - Please check again whether you have configured the [required permissions](#war-room-scope) for the war room feature.
   - Please refer to the **FAQ** section of the Flashduty [War Room Introduction](https://docs.flashcat.cloud/en/flashduty/war-room?nav=01JCQ7A4N4WRWNXW8EWEHXCMF5).