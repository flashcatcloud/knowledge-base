---
title: "RUM Setup"
description: "Learn how to set up Real User Monitoring (RUM) for your web applications to track performance and user experience."
date: "2024-05-09T10:00:00+08:00"
url: "https://docs.flashcat.cloud/en/flashduty/rum/setup"
---

## Overview

---

To get started with Flashduty RUM for web applications, you need to:

1. Create a RUM application in the Flashcat console
2. Instrument your application with the RUM SDK

Instrumenting your application allows observability data to be collected and displayed in the Flashcat UI.

## Creating a RUM Application

---

1. Log in to the Flashcat console
2. Navigate to **RUM** > **Applications**
3. Click **New Application**
4. Enter a name for your application (e.g., "My Web App")
5. Select **Browser** as the application type
6. Click **Create**

After creating the application, you'll be provided with an Application ID and a Client Token that you'll need for the next step.

## Instrumenting Your Application

---

There are two ways to instrument your application: automatic or manual instrumentation.

### Automatic Instrumentation

Automatic instrumentation is the simplest way to get started with RUM. It requires minimal code changes and automatically tracks page views, resources, errors, and user actions.

1. Add the following script to the `<head>` section of your HTML:

```html
<script>
  (function (w, d, s, l, i) {
    w[l] = w[l] || [];
    w[l].push({
      "rum.start": new Date().getTime(),
      event: "rum",
      application_id: "YOUR_APPLICATION_ID",
      client_token: "YOUR_CLIENT_TOKEN",
    });
    var f = d.getElementsByTagName(s)[0],
      j = d.createElement(s),
      dl = l != "dataLayer" ? "&l=" + l : "";
    j.async = true;
    j.src = "https://cdn.flashcat.cloud/rum.js";
    f.parentNode.insertBefore(j, f);
  })(window, document, "script", "fcLayer", "YOUR_APPLICATION_ID");
</script>
```

2. Replace `YOUR_APPLICATION_ID` and `YOUR_CLIENT_TOKEN` with the values provided when you created your RUM application.

### Manual Instrumentation

Manual instrumentation gives you more control over what data is collected and how it's configured. This is recommended for advanced use cases or when you need to customize data collection.

1. Install the RUM SDK via npm:

```bash
npm install @flashcatcloud/browser-rum
```

2. Initialize the SDK in your application:

```javascript
import { flashcatRum } from "@flashcatcloud/browser-rum";

flashcatRum.init({
  applicationId: "YOUR_APPLICATION_ID",
  clientToken: "YOUR_CLIENT_TOKEN",
  site: "flashcat.cloud",
  service: "my-web-app",
  env: "production",
  // Additional configuration options
  trackUserInteractions: true,
  trackResources: true,
  trackLongTasks: true,
  trackErrors: true,
  defaultPrivacyLevel: "mask-user-input",
});
```

3. Replace `YOUR_APPLICATION_ID` and `YOUR_CLIENT_TOKEN` with the values provided when you created your RUM application.

## Configuration Options

---

The RUM SDK provides several configuration options to customize data collection:

| Option                  | Type    | Default           | Description                                                           |
| ----------------------- | ------- | ----------------- | --------------------------------------------------------------------- |
| `applicationId`         | string  | -                 | Your RUM application ID (required)                                    |
| `clientToken`           | string  | -                 | Your RUM client token (required)                                      |
| `site`                  | string  | 'flashcat.cloud'  | The Flashcat site to send data to                                     |
| `service`               | string  | -                 | The name of your service or application                               |
| `env`                   | string  | 'production'      | The environment (e.g., 'production', 'staging', 'development')        |
| `version`               | string  | -                 | The version of your application                                       |
| `trackUserInteractions` | boolean | true              | Whether to track user interactions (clicks, etc.)                     |
| `trackResources`        | boolean | true              | Whether to track resource loading (images, scripts, etc.)             |
| `trackLongTasks`        | boolean | true              | Whether to track long tasks (JavaScript execution > 50ms)             |
| `trackErrors`           | boolean | true              | Whether to track JavaScript errors                                    |
| `defaultPrivacyLevel`   | string  | 'mask-user-input' | Privacy level for collected data ('allow', 'mask', 'mask-user-input') |

## Verifying Installation

---

After instrumenting your application, you can verify that data is being collected by:

1. Opening your application in a web browser
2. Navigating to the Flashcat console > RUM > Applications > Your Application
3. Checking the "Sessions" tab to see if your session appears

It may take a few minutes for data to appear in the console.

## Troubleshooting

---

If you don't see data in the RUM console after instrumenting your application, check the following:

1. **Console Errors**: Open your browser's developer console and check for any JavaScript errors related to the RUM SDK.

2. **Network Requests**: In the Network tab of your browser's developer tools, look for requests to `https://browser.flashcat.cloud` and ensure they're successful (status code 200).

3. **Application ID and Client Token**: Verify that you're using the correct Application ID and Client Token in your instrumentation code.

4. **Content Security Policy (CSP)**: If your site uses a Content Security Policy, ensure it allows connections to `https://browser.flashcat.cloud` and loading scripts from `https://cdn.flashcat.cloud`.

5. **Ad Blockers**: Some ad blockers may interfere with RUM data collection. Try disabling ad blockers for testing.

## Next Steps

---

Now that you've set up RUM for your application, you can:

- [Explore the RUM Dashboard](https://docs.flashcat.cloud/en/flashduty/rum/exploring-rum-data) to analyze your application's performance
- [Configure Advanced Settings](https://docs.flashcat.cloud/en/flashduty/rum/advanced-configuration) to customize data collection
- [Track Custom User Actions](https://docs.flashcat.cloud/en/flashduty/rum/tracking-user-actions) to gain insights into specific user interactions
