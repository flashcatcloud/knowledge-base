---
title: "RUM Troubleshooting"
description: "Learn how to troubleshoot common issues with FlashCat Real User Monitoring (RUM) and ensure optimal data collection."
date: "2024-05-09T10:00:00+08:00"
url: "https://docs.flashcat.cloud/en/flashduty/rum/troubleshooting"
---

## Overview

---

This guide helps you troubleshoot common issues with FlashCat Real User Monitoring (RUM) and ensure that your RUM implementation is working correctly. It covers data collection issues, SDK configuration problems, and performance concerns.

## Verifying Data Collection

---

If you're not seeing data in the RUM dashboard, follow these steps to verify data collection:

### Check SDK Installation

1. **Verify Script Inclusion**: Ensure the RUM SDK script is properly included in your HTML:

   ```html
   <!-- For automatic instrumentation -->
   <script>
     (function (w, d, s, l, i) {
       w[l] = w[l] || [];
       w[l].push({
         "rum.start": new Date().getTime(),
         event: "rum",
         application_id: "YOUR_APPLICATION_ID",
         client_token: "YOUR_CLIENT_TOKEN",
       });
       var f = d.getElementsByTagName(s)[0],
         j = d.createElement(s),
         dl = l != "dataLayer" ? "&l=" + l : "";
       j.async = true;
       j.src = "https://cdn.flashcat.cloud/rum.js";
       f.parentNode.insertBefore(j, f);
     })(window, document, "script", "fcLayer", "YOUR_APPLICATION_ID");
   </script>
   ```

   Or for manual instrumentation:

   ```javascript
   import { flashcatRum } from "@flashcatcloud/browser-rum";

   flashcatRum.init({
     applicationId: "YOUR_APPLICATION_ID",
     clientToken: "YOUR_CLIENT_TOKEN",
     // Other configuration options
   });
   ```

2. **Check Console for Errors**: Open your browser's developer console and look for any JavaScript errors related to the RUM SDK.

3. **Verify Application ID and Client Token**: Ensure you're using the correct Application ID and Client Token from the FlashCat console.

### Check Network Requests

1. Open your browser's developer tools and go to the Network tab.
2. Filter for requests to `browser.flashcat.cloud`.
3. Verify that requests are being sent and receiving 200 OK responses.
4. If requests are failing, check the response for error messages.

### Check Browser Compatibility

Ensure you're using a supported browser. FlashCat RUM supports:

- Chrome 60+
- Firefox 60+
- Safari 12+
- Edge 15+
- Internet Explorer 11 (with limitations)

### Check for Ad Blockers

Some ad blockers may block the RUM SDK. Try disabling ad blockers or adding exceptions for your domain and `browser.flashcat.cloud`.

## Common Issues and Solutions

---

### No Data in Dashboard

**Issue**: You've implemented the RUM SDK, but no data appears in the dashboard.

**Solutions**:

1. **Wait a Few Minutes**: It can take up to 5 minutes for data to appear in the dashboard.

2. **Check Initialization**: Ensure the RUM SDK is properly initialized before any user interactions occur.

3. **Verify Sample Rate**: Check if you've configured a sample rate that's too low:

   ```javascript
   flashcatRum.init({
     // ... other configuration options
     sampleRate: 100, // Ensure this is set to 100 for full data collection
   });
   ```

4. **Check for Consent Management**: If you're using consent management, ensure tracking consent is granted:

   ```javascript
   flashcatRum.setTrackingConsent("granted");
   ```

### Missing User Actions

**Issue**: User actions are not being tracked or are incomplete.

**Solutions**:

1. **Enable User Interaction Tracking**: Ensure user interaction tracking is enabled:

   ```javascript
   flashcatRum.init({
     // ... other configuration options
     trackUserInteractions: true,
   });
   ```

2. **Check Action Naming**: For custom elements, ensure they have proper attributes for action naming:

   ```html
   <button data-action-name="Submit Form">Submit</button>
   ```

3. **Use Custom Action Tracking**: For complex interactions, use custom action tracking:

   ```javascript
   flashcatRum.addAction("click", "Custom Button Click");
   ```

### Missing Error Data

**Issue**: JavaScript errors are not being captured.

**Solutions**:

1. **Enable Error Tracking**: Ensure error tracking is enabled:

   ```javascript
   flashcatRum.init({
     // ... other configuration options
     trackErrors: true,
   });
   ```

2. **Check Error Handling**: Ensure your error handling doesn't prevent errors from reaching the RUM SDK:

   ```javascript
   // Instead of this:
   try {
     // Code that might throw an error
   } catch (error) {
     console.error(error);
     // Error is caught but not reported to RUM
   }

   // Do this:
   try {
     // Code that might throw an error
   } catch (error) {
     console.error(error);
     flashcatRum.addError(error);
   }
   ```

3. **Check Source Maps**: If you're using minified code, ensure source maps are properly configured for better error reporting.

### Performance Impact Concerns

**Issue**: Concerns about the RUM SDK impacting application performance.

**Solutions**:

1. **Optimize Configuration**: Disable features you don't need:

   ```javascript
   flashcatRum.init({
     // ... other configuration options
     trackResources: true,
     trackLongTasks: true,
     trackErrors: true,
     trackUserInteractions: true,
   });
   ```

2. **Adjust Sample Rate**: Reduce the sample rate to collect data from only a percentage of users:

   ```javascript
   flashcatRum.init({
     // ... other configuration options
     sampleRate: 50, // Collect data from 50% of users
   });
   ```

3. **Use Resource Monitoring Wisely**: Resource monitoring can be data-intensive. Consider using selective resource collection:

   ```javascript
   flashcatRum.init({
     // ... other configuration options
     resourceSampleRate: 50, // Monitor resources for only 50% of sessions
   });
   ```

### Content Security Policy (CSP) Issues

**Issue**: CSP blocking the RUM SDK from loading or sending data.

**Solutions**:

1. **Update CSP for Script Source**: Allow loading scripts from FlashCat CDN:

   ```
   script-src 'self' https://cdn.flashcat.cloud;
   ```

2. **Update CSP for Connect Source**: Allow sending data to FlashCat intake:

   ```
   connect-src 'self' https://browser.flashcat.cloud;
   ```

3. **Update CSP for Other Resources**:

   ```
   img-src 'self' data:;
   font-src 'self' data:;
   ```

### Single-Page Application (SPA) Issues

**Issue**: Page views not being tracked correctly in SPAs.

**Solutions**:

1. **Manual View Tracking**: For SPAs, manually track view changes:

   ```javascript
   // When route changes in your SPA
   flashcatRum.startView({
     name: "Product Page",
     url: "/products/123",
   });
   ```

2. **Framework Integration**: Use framework-specific integrations:

   For React Router:

   ```javascript
   import { useEffect } from "react";
   import { useLocation } from "react-router-dom";

   function RumRouteTracker() {
     const location = useLocation();

     useEffect(() => {
       flashcatRum.startView({
         name: location.pathname,
         url: location.pathname + location.search,
       });
     }, [location]);

     return null;
   }
   ```

   For Vue Router:

   ```javascript
   router.afterEach((to) => {
     flashcatRum.startView({
       name: to.name || to.path,
       url: to.path + to.fullPath.substring(to.path.length),
     });
   });
   ```

## Advanced Troubleshooting

---

### Debug Mode

Enable debug mode to get detailed logging in the browser console:

```javascript
flashcatRum.init({
  // ... other configuration options
  debug: true,
});
```

This will log detailed information about SDK initialization, data collection, and any issues encountered.

### Manual Data Collection Testing

If you need to force data collection for testing:

```javascript
flashcatRum.init({
  // ... other configuration options
  sampleRate: 100, // Ensure 100% data collection
  forceTracking: true,
});
```

### Network Request Inspection

To inspect the exact data being sent to FlashCat:

1. Open browser developer tools
2. Go to the Network tab
3. Filter for requests to `browser.flashcat.cloud`
4. Click on a request and view the "Request" tab to see the payload

### Browser Console Commands

FlashCat RUM adds some debug commands to the browser console:

```javascript
// Get the current RUM context
window.FC_RUM.getInternalContext();

// Get the current session ID
window.FC_RUM.getCurrentSessionId();

// Get the current view ID
window.FC_RUM.getCurrentViewId();
```

## Contacting Support

---

If you've tried the troubleshooting steps above and are still experiencing issues, contact FlashCat support:

1. Gather the following information:

   - Your Application ID
   - Browser and version
   - SDK version
   - Console errors (if any)
   - Network request logs
   - Steps to reproduce the issue

2. Contact support through one of these channels:
   - Email: support@flashcat.cloud
   - Support portal: [contact-us@flashcat.cloud](mailto:contact-us@flashcat.cloud)
   - In-app chat: Click the "Help" button in the FlashCat console

## FAQ

---

### Q: How long does it take for data to appear in the dashboard?

A: Data typically appears in the dashboard within 2-5 minutes of being collected. During periods of high traffic, it may take slightly longer.

### Q: Does the RUM SDK work in mobile browsers?

A: Yes, the RUM SDK works in modern mobile browsers on iOS and Android. However, some features may have limitations on mobile devices.

### Q: How can I exclude certain pages from RUM tracking?

A: You can conditionally initialize the RUM SDK based on the current URL:

```javascript
if (!window.location.pathname.startsWith("/admin")) {
  flashcatRum.init({
    // ... configuration options
  });
}
```

### Q: How do I track users across multiple domains?

A: To track users across multiple domains, you need to:

1. Use the same Application ID and Client Token on all domains
2. Set a consistent user ID across domains
3. Enable cross-origin tracking:

```javascript
flashcatRum.init({
  // ... other configuration options
  allowedTracingOrigins: [
    "https://example.com",
    "https://app.example.com",
    "https://shop.example.com",
  ],
});
```

### Q: How can I reduce the amount of data collected?

A: You can reduce data collection by:

1. Lowering the sample rate
2. Disabling features you don't need
3. Excluding certain pages or user segments
4. Configuring privacy settings to mask sensitive data

By following these troubleshooting steps, you can ensure that FlashCat RUM is properly configured and collecting the data you need to monitor and improve your web application's performance and user experience.
