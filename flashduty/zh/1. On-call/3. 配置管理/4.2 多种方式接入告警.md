---
title: "告警接入"
description: "了解专属集成与共享集成的区别，掌握多种告警接入方式"
date: "2024-06-18T10:00:00+08:00"
url: "https://docs.flashcat.cloud/zh/flashduty/how-to-integrate-alerts"
---

Flashduty 作为企业的统一告警中心，本身不产生数据，而是通过标准化的集成接口，接收来自监控系统（如 Zabbix、Prometheus、Nightingale）、云厂商（如阿里云、AWS）及自定义脚本的告警事件。

## 视频介绍
---
<Video width="200" style="width: 140px;" src="https://download.flashcat.cloud/flashduty/video/integrate-alerts.mp4"></Video>

## 接入模式
---

Flashduty 提供两种灵活的接入模式，以适应不同规模和组织架构的需求。

### 专属集成
**操作路径**：进入 **协作空间详情 => 集成数据 => 专属集成**，点击添加集成。

**定义**：直接在某个协作空间内创建的集成。
**流向**：告警数据点对点投递，直接进入该协作空间，无需额外路由配置。
**适用场景**：
*   告警源明确归属于特定团队或业务线（如“支付网关”的 Zabbix 告警）。
*   不需要将同一告警源的数据分发给多个团队。

### 共享集成
**操作路径**：进入 **集成中心 => 告警事件**，点击添加集成。

**定义**：在系统层级（集成中心）创建的公共集成池。
**流向**：告警数据先进入集成中心，再根据预设的 **路由规则** 分发到不同的协作空间。
**适用场景**：
*   统一监控平台（如公司级 Prometheus），包含多个业务线的数据。
*   需要根据告警信息（如 `service=order` 或 `team=dba`）将告警精准分派给不同团队。


### 模式对比

| 特性 | 专属集成 | 共享集成 |
| :--- | :--- | :--- |
| **数据流向** | 直接入空间 | 路由分发 |
| **配置复杂度** | 低（开箱即用） | 中（需配置路由规则） |
| **灵活性** | 低（仅限当前空间） | 高（按需分发，支持多空间） |


## 路由规则（核心配置）
---

对于 **共享集成**，路由规则是告警分发的交通枢纽。系统会按优先级从上到下匹配规则，一旦匹配成功，即将告警投递到指定协作空间，并停止后续匹配（除非配置了“继续匹配”）。

**典型配置示例**：
1.  **规则一**：当 `service` 包含 `payment` 时，投递到【支付业务空间】。
2.  **规则二**：当 `host` 包含 `db-` 时，投递到【DBA 运维空间】。
3.  **兜底规则**：匹配所有剩余告警，投递到【公共待办空间】，防止告警遗漏。

## 数据处理能力
---

无论通过何种方式接入，Flashduty 都提供了强大的数据预处理管道：

1.  **标签增强**：从告警描述中提取关键信息（如 IP、集群名）生成新标签，或通过映射表丰富元数据（如将 `host-01` 映射为 `负责人:张三`）。[了解更多](https://docs.flashcat.cloud/zh/flashduty/label-enrichment-settings)
2.  **排除规则**：在数据入库前过滤掉无效告警（如测试环境告警），净化数据源，减少无效信息的干扰。
3.  **告警处理**：自定义告警等级、标题生成规则，确保不同来源的告警在 Flashduty 中展示一致。[了解更多](https://docs.flashcat.cloud/zh/flashduty/alert-pipelines)

## 常见问题
---

<details>
  <summary>集成中心的告警事件中创建的集成接收不到告警？</summary>
  1. 请确认是否有配置路由。
  2. 请确认源平台是否有触发告警事件以及是否有产生告警。
</details>

<details>
  <summary>创建集成数量是否有限制？</summary>
  目前没有限制。
</details>

<details>
  <summary>告警的标签如何生成？</summary>
  Flashduty 针对每一种集成，按照应取尽取的原则，将关键信息全部方式标签、描述或标题当中。如果您希望在此基础上，动态生成其他标签，请配置标签增强规则，具体请参考：https://docs.flashcat.cloud/zh/flashduty/label-enrichment-settings
</details>

<details>
  <summary>告警标题是如何确定的？我是否可以修改？</summary>
  Flashduty 针对每一种集成，使用了特定的标题生成方式，一般为”策略名称 / 告警对象“的组合，如果您希望定制标题的生成规则，请参考：https://docs.flashcat.cloud/zh/flashduty/customize-incident-attrs
</details>

<details>
  <summary>怎么查看告警事件来自哪个集成类型？</summary>
  点击故障->进入故障详情->关联告警->告警来源。
</details>
