---
title: "分析数据"
description: "通过分析数据看板进行数据分析时，可以基于协作空间、团队、人员等多种维度统计和分析故障的数据，并且支持下载和导出数据，实现以数据驱动业务增长。"
date: "2024-05-10T10:00:00+08:00"
url: "https://docs.flashcat.cloud/zh/flashduty/insights"
---

通过分析数据看板进行业务数据分析时，可以基于协作空间、团队、人员等多种维度统计和分析故障的数据，并且支持下载和导出数据，实现以数据驱动业务增长。

### 关键特性

- **多维度分析**：从全局和时间维度，扩展到按团队、空间、个人等维度进行查看，全方位了解团队运维效能。
- **灵活下钻**：支持从全局视图下钻到各子维度，进行深入的指标分析，快速定位问题所在。
- **数据对比**：在不同维度间进行数据对比，发现团队间的差异和改进空间。
- **数据导出**：支持将数据导出为 CSV 文件，方便进行进一步的数据分析和报告生成。

![2025-12-09-13-10-49](https://docs-cdn.flashcat.cloud/images/png/1810fb6122673a68cab4127c13d934a2.png)

### 筛选条件

自定义筛选条件时，系统会记录选选中的条件，即使刷新页面，选中的条件也会保留，但当前用户的操作并不会影响其他用户

- **团队**：选择需要查询的团队名称，支持多选，选中后会按选中的团队更新仪表盘中的数据。
- **协作空间**：选择需要查询的协作空间名称，支持多选，选中后会按选中的协作空间更新仪表盘中的数据。
- **严重程度**：选择需要查询的严重程度，支持多选，选中后会按选中的严重程度更新仪表盘中的数据。
- **时间范围**：选择需要查询的时间范围，支持按本周、最近两周、本月、上个月以及自定义时间的维度进行查询，但最多支持查询最近 180 天的数据。
- **数据间隔**：支持天、周、月的维度进行查询，默认按小时进行查询，但查询的时间范围大于 31 天时，无法以天的维度进行预览。
- **排序**：团队、协作空间和个人维度的仪表盘可以选择倒排和正排，默认只显示 TOP 10 的数据，单独放大后可以展示更多。

### 按小时拆分

当我们需要进行 24 小时 On-call 时，为了区别不同时间段对团队成员的影响差异，所以我们将时间划分为三个阶段

- **工作时间**：周一到周五 8am ～ 7pm，团队正常工作的黄金时段。
- **休息时间**：周一到周五 7pm ～ 11pm，非工作日 8am ～ 11pm，团队成员的休息或娱乐时间。
- **睡眠时间**：每天的 11pm ～ 8am，这个时间段的打扰会严重影响团队成员的休息质量。

![2025-12-09-13-11-03](https://docs-cdn.flashcat.cloud/images/png/12efee7dd1e13b7c730d52a86f47676a.png)

### 指标释义

:::warning 注意
被收敛（被静默或抑制）的故障不会触发通知，通常被视为可忽略的噪音。因此，以下所有指标的统计**均不包含**被收敛的故障。
:::

#### 核心指标

| 指标名称 | 计算逻辑 | 含义 |
| :--- | :--- | :--- |
| **故障数量** | `Count(Incidents)` | 所选时间范围内产生的故障总数（剔除被收敛的）。<br> **多人场景**：若一个故障被分派给 3 个人，在全局统计为 1 个故障；在个人维度统计时，这 3 个人名下各记 1 个故障。 |
| **响应比例** | `(Acked Incidents / Total Incidents) * 100%` | 最终被有效认领的故障占比。反映团队对故障的响应积极度。 |
| **MTTA** | **全局**：`Sum(首次认领时间 - 触发时间) / 认领故障数`<br>**个人**：`Sum(个人认领时间 - 个人被分派时间) / 个人认领故障数` | **平均响应时间**。<br>**全局 MTTA** 衡量团队“发现问题”的速度，以**最早**响应的那个人为准。<br>**个人 MTTA** 衡量个人“响应分派”的速度，计算的是从**被指派给该成员**到**该成员点击认领**的时间差。 |
| **MTTR** | `Sum(关闭时间 - 触发时间) / 关闭故障数` | **平均恢复时间**。指故障发生到被关闭的平均耗时。<br>**注意**：个人维度不统计 MTTR，因为故障恢复通常由团队协作完成，难以精确归因给某一个人。 |
| **响应投入** | **全局**：`Sum(各认领人的响应时长)` (并集)<br>**个人**：`Sum(关闭时间 - 个人首次认领时间)` | **投入时长**。反映处理故障所消耗的人力成本。<br>**多人场景**：对于某一故障，如果 A 和 B 都认领了，则会计算 **(关闭时间 - A 认领时间) + (关闭时间 - B 认领时间)**。这反映的是**总人时投入**，可能大于故障本身的持续时长。 |

#### 详细统计指标

| 指标名称 | 计算逻辑 | 含义 |
| :--- | :--- | :--- |
| **通知总数** | `Sum(Notifications)` | 系统发出的所有通知总数。包含所有渠道：**电话、短信、App推送、邮件、IM机器人、单聊**。<br>**注意**：仅统计**成功发送**的通知，失败的通知不计入。 |
| **中断次数** | `Sum(Interruptions)` | 仅统计 **电话(Voice)**、**短信(SMS)**、**App推送(Push)** 三种强提醒渠道的通知数量。<br> **防抖逻辑**：如果同一渠道在 1 分钟内连续发送多条通知，仅计数 1 次中断。 |
| **认领故障数** | `Count(Acked Incidents)` | 最终状态为“已认领”或在“已认领”状态下被关闭的故障数量。<br>**注意**：如果认领后又执行了“取消认领 (Unack)”操作，该计数会**回退**，即不计入。 |
| **关闭故障数** | `Count(Closed Incidents)` | 状态变为“已关闭”的故障数量。 |
| **自动关闭数** | `Count(Closed by System)` | 由系统自动关闭（如监控恢复）的故障数量。 |
| **人工关闭数** | `Count(Closed by User)` | 由人工手动点击关闭的故障数量。 |
| **超时关闭数** | `Count(Closed by Timeout)` | 因长时间未处理被系统自动关闭的故障数量。 |
| **手动升级数** | `Count(Escalated by User)` | 人工触发升级策略的故障数量。 |
| **超时升级数** | `Count(Escalated by Timeout)` | 因未在规定时间内响应而自动触发升级的故障数量。 |
| **转派次数** | `Count(Reassigned Incidents)` | 发生过转派操作的故障数量。 |

### 告警 TOP 分析

全局维度可以查看告警检查项和告警对象的 TOP 20 数据，帮助识别系统中的“噪音源”或“重灾区”。

- **告警检查项 (Check)**：按照 `check` 标签聚合。通常对应监控系统中的“规则名”或“检查项”。
- **告警对象 (Resource)**：按照 `resource` 标签聚合。通常对应具体的“主机名”、“实例ID”或“服务名”。

### 数据下载和导出

#### 数据下载

所有维度均支持将仪表盘以 PDF 格式下载到本地，方便进行进一步的数据分析和报告生成

![2025-12-09-13-11-23](https://docs-cdn.flashcat.cloud/images/png/9b05e7782d6207e3a6176e59fca7073e.png)

#### 数据导出

以 CSV 格式导出故障列表数据，支持将故障列表、团队、协作空间和个人维度数据导出，但导出的数据并不会按照展示的字段进行导出

![2025-12-09-13-11-41](https://docs-cdn.flashcat.cloud/images/png/7cb75179da5bef80c9bf9f12994d6f56.png)

#### 导出限制

- 故障列表导出时，不包含 Labels 数据，如果需要更详细的数据，建议通过[故障列表 API](https://developer.flashcat.cloud/api-110655782) 查询。
- 数据列表的查询和导出的数据量最大是 10 万条，如果需要更多数据，建议分时间段导出。

### 常见问题

<details>
  <summary> 想要查询更久的数据怎么办？</summary>
  目前分析看板中仅支持查询最近180天的数据，如果需要查询更久的数据，可以通过 [API 查询](https://developer.flashcat.cloud/api-213441443)。
</details>

<details>
  <summary> 为什么查询数据的时间范围超过31天后，不能以天的维度查看数据 </summary>
    仪表盘的折线图最多支持31个点，所以查询数据的时间范围超过31天后，无法以天的维度查看数据。
</details>

<details>
  <summary> 为什么有数据延迟？</summary>
  由于涉及到大量数据的聚合计算，系统数据更新可能存在 1 小时左右的延迟。
</details>
