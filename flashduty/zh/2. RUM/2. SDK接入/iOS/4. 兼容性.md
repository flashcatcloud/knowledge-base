---
title: "iOS SDK 兼容性"
description: "Flashcat iOS RUM SDK 支持的平台版本、开发工具和框架兼容性说明。"
date: "2024-05-09T10:00:00+08:00"
url: "https://docs.flashcat.cloud/zh/flashduty/rum/ios-compatibility"
---

## 支持的版本

Flashcat RUM iOS SDK 支持以下操作系统版本：

| 平台                      | 支持状态    | 版本   | 备注                                                                      |
| ------------------------- | ----------- | ------ | ------------------------------------------------------------------------- |
| iOS                       | ✅          | 12.0+  |                                                                           |
| iPadOS                    | ✅          | 12.0+  |                                                                           |
| tvOS                      | ✅          | 12.0+  |                                                                           |
| macOS (Designed for iPad) | ✅          | 11.0+  |                                                                           |
| macOS (Catalyst)          | ⚠️ 部分支持 | 10.14+ | Catalyst 支持构建模式，但某些 SDK 功能在 macOS 目标上可能无法完全正常工作 |
| macOS                     | ⚠️ 部分支持 | 10.14+ | Flashcat SDK 未正式支持 macOS，某些功能可能无法完全正常工作               |
| visionOS                  | ⚠️ 部分支持 | 1.0+   | Flashcat SDK 未正式支持 visionOS，某些功能可能无法完全正常工作            |
| watchOS                   | ❌ 不支持   | -      | 目前不支持 watchOS 平台                                                   |

## 支持的平台特性

### 开发工具

#### Xcode

SDK 使用最新版本的 Xcode 构建，但始终向后兼容 App Store 提交所需的最低支持 Xcode 版本。

**推荐版本**：Xcode 14.0 及以上

### 依赖管理工具

Flashcat iOS SDK 目前支持以下依赖管理工具集成：

| 工具                  | 支持状态  | 备注     |
| --------------------- | --------- | -------- |
| Swift Package Manager | ✅        | 推荐使用 |
| CocoaPods             | 🚧 计划中 | 即将支持 |
| Carthage              | 🚧 计划中 | 即将支持 |

### 编程语言

| 语言        | 版本 | 支持状态 |
| ----------- | ---- | -------- |
| Swift       | 5.0+ | ✅       |
| Objective-C | 2.0  | ✅       |

### UI 框架兼容性

| 框架    | 自动追踪 | 手动追踪 | 备注                                                        |
| ------- | -------- | -------- | ----------------------------------------------------------- |
| UIKit   | ✅       | ✅       | 支持自动追踪 UIViewController 和用户交互                    |
| SwiftUI | ⚠️       | ✅       | 需要使用 `.trackRUMView()` 和 `.trackRUMTapAction()` 修饰符 |

### 网络框架兼容性

| 框架/库        | 自动追踪 | 手动追踪 | 备注                                 |
| -------------- | -------- | -------- | ------------------------------------ |
| URLSession     | ✅       | ✅       | 需要启用 `URLSessionInstrumentation` |
| Alamofire      | ❌       | ✅       | 可通过自定义拦截器手动追踪           |
| Apollo GraphQL | ❌       | ✅       | 可通过自定义拦截器手动追踪           |
| AFNetworking   | ❌       | ⚠️       | 不推荐使用，建议迁移到 URLSession    |

### WebView 支持

| 类型      | 支持状态 | 备注                            |
| --------- | -------- | ------------------------------- |
| WKWebView | ✅       | 需要集成 `FlashcatWebView` 模块 |
| UIWebView | ❌       | 已被 Apple 弃用，不支持         |

## SDK 模块说明

Flashcat iOS SDK 由以下模块组成：

| 模块名称        | 功能说明                         | 平台支持                 |
| --------------- | -------------------------------- | ------------------------ |
| FlashcatCore    | 核心 SDK，提供基础功能           | iOS, iPadOS, tvOS, macOS |
| FlashcatRUM     | RUM 数据收集和上报               | iOS, iPadOS, tvOS        |
| FlashcatWebView | WebView 集成支持                 | iOS, iPadOS              |
| FlashcatCrash   | 崩溃报告（集成 PLCrashReporter） | iOS, iPadOS, tvOS        |

## 第三方依赖

Flashcat iOS SDK 依赖以下第三方库：

| 库名称          | 版本   | 用途         |
| --------------- | ------ | ------------ |
| PLCrashReporter | 1.12.0 | 崩溃报告收集 |

## 已知限制

### SwiftUI

- SwiftUI 视图需要手动添加 `.trackRUMView()` 修饰符才能被追踪
- 在 `List` 内使用 `.trackRUMTapAction()` 可能会影响默认手势行为
- 对于 `List` 元素，建议使用自定义操作 API

### macOS 和 visionOS

- macOS 和 visionOS 不是官方支持的平台
- 某些依赖 UIKit 的功能在这些平台上可能无法正常工作
- 不保证未来版本的兼容性

### Catalyst

- Catalyst 模式仅支持构建，运行时某些功能可能受限
- 建议在实际使用前进行充分测试

## 最低部署要求

为了确保 SDK 正常工作，请确保：

1. **最低操作系统版本**：iOS 12.0 / iPadOS 12.0 / tvOS 12.0
2. **最低 Xcode 版本**：Xcode 14.0
3. **最低 Swift 版本**：Swift 5.0
4. **网络权限**：应用需要有网络访问权限以上报数据
5. **存储空间**：SDK 需要少量本地存储空间用于缓存离线数据

## 性能影响

Flashcat iOS SDK 设计为轻量级，对应用性能的影响极小：

- **CPU 占用**：< 1%
- **内存占用**：< 10 MB
- **包大小增加**：约 2-3 MB（视集成的模块而定）
- **启动时间影响**：< 100ms

## 更新策略

- **主版本更新**：可能包含不兼容的更改，需要代码调整
- **次版本更新**：新增功能，向后兼容
- **补丁版本更新**：bug 修复，完全向后兼容

建议定期更新 SDK 到最新稳定版本以获得最佳性能和安全性。

## 相关文档

- [iOS SDK 接入指南](https://docs.flashcat.cloud/zh/flashduty/rum/ios-sdk-integration)：了解如何集成 SDK
- [iOS SDK 高级配置](https://docs.flashcat.cloud/zh/flashduty/rum/ios-advanced-configuration)：了解 SDK 的高级配置选项
- [iOS SDK 数据收集](https://docs.flashcat.cloud/zh/flashduty/rum/ios-data-collected)：了解 SDK 收集哪些数据
