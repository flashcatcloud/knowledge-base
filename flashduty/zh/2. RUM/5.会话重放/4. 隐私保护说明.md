---
title: "RUM 会话重放隐私保护"
description: "掌握 Flashduty RUM 的会话重放功能，通过重现用户操作路径快速定位问题并优化用户体验。"
date: "2024-05-09T10:00:00+08:00"
url: "https://docs.flashcat.cloud/zh/flashduty/rum/session-replay-privacy"
---

## 概述

为满足不同场景的隐私需求，会话重放功能内置了灵活的隐私保护策略。通过配置 `defaultPrivacyLevel` 字段，开发者可控制数据采集的敏感度，支持从显示所有文本（除密码外）到完全隐藏页面文本的多种模式，确保用户数据的安全性和合规性

## 隐私策略

会话重放功能通过 `defaultPrivacyLevel` 字段提供灵活的隐私保护配置，确保在采集用户操作数据时兼顾功能性和数据安全。以下为三种主要隐私级别配置及其效果：
:::tip
input 类型为 password 的输入为敏感信息，所有场景都不会收集。
:::

### 隐藏页面所有文本

配置 `defaultPrivacyLevel: "mask"` 将完全隐藏页面中的所有文本内容，仅保留操作行为和页面结构，适合对数据隐私要求校高的场景。

```js
window.FC_RUM.init({
  applicationId: "YOUR_APPLICATION_ID",
  clientToken: "YOUR_CLIENT_TOKEN",
  // ...
  sessionReplaySampleRate: 10, // 默认采样率10%
  defaultPrivacyLevel: "mask",
  // ...
});
```

![隐藏页面所有文本](https://docs-cdn.flashcat.cloud/imges/png/3c123bbf8fd30482da766ab009c16b0e.png)

### 隐藏数据框内容

配置 `defaultPrivacyLevel: "mask-user-input"` 将隐藏用户输入框中的内容（如文本输入、选择框等），但保留页面其他文本，适用于需要保护用户输入隐私的场景。

```js
window.FC_RUM.init({
  applicationId: "YOUR_APPLICATION_ID",
  clientToken: "YOUR_CLIENT_TOKEN",
  // ...
  sessionReplaySampleRate: 10, // 默认采样率10%
  defaultPrivacyLevel: "mask-user-input",
  // ...
});
```

![隐藏数据框内容](https://docs-cdn.flashcat.cloud/imges/png/5c43c6f6196a95334a8b253fa33360c9.png)

### 显示所有文本（除密码）

配置 `defaultPrivacyLevel: "allow"` 允许采集页面中除密码字段外的所有文本内容，适合需要完整用户交互细节的场景。

```js
window.FC_RUM.init({
  applicationId: "YOUR_APPLICATION_ID",
  clientToken: "YOUR_CLIENT_TOKEN",
  // ...
  sessionReplaySampleRate: 10, // 默认采样率10%
  defaultPrivacyLevel: "allow",
  // ...
});
```

![显示所有文本](https://docs-cdn.flashcat.cloud/imges/png/4cae182c91c7df152cbcf86c2978f443.png)
