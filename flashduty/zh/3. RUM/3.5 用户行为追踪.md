---
title: "RUM 用户行为追踪"
description: "了解如何使用FlashCat实时用户监控(RUM)跟踪和分析Web应用程序中的用户行为。"
date: "2024-05-09T10:00:00+08:00"
url: "https://docs.flashcat.cloud/zh/flashduty/rum/user-action-tracking"
---

## 概述
---

用户行为追踪是FlashCat RUM的强大功能，允许您监控用户如何与您的Web应用程序交互。通过跟踪用户行为，您可以获得用户行为的洞察，识别可用性问题，并优化转化流程。

## 自动行为追踪
---

FlashCat RUM自动跟踪用户与您的Web应用程序的常见交互，包括：

### 点击行为

当用户点击交互元素时，会跟踪点击行为，例如：

- 按钮
- 链接
- 表单元素（复选框、单选按钮等）
- 带有点击事件监听器的自定义交互元素

对于每个点击行为，FlashCat RUM捕获：

- 被点击的元素
- 元素的文本内容或标识符
- 点击的时间
- 点击发生的页面上下文

### 页面导航

当用户在应用程序中的页面之间导航时，会跟踪页面导航行为，包括：

- 直接URL输入
- 导致新页面的链接点击
- 表单提交
- 历史API导航（对于单页应用程序）

对于每个导航行为，FlashCat RUM捕获：

- 源URL
- 目标URL
- 导航时间
- 导航方法（例如，链接点击、表单提交）

### 表单交互

当用户与表单元素交互时，会跟踪表单交互，包括：

- 表单提交
- 输入字段交互
- 选择下拉菜单更改
- 复选框和单选按钮切换

对于每个表单交互，FlashCat RUM捕获：

- 交互的表单元素
- 交互类型
- 交互时间
- 表单上下文（不包括敏感数据）

## 自定义行为追踪
---

除了自动行为追踪外，您还可以手动跟踪特定于您应用程序的自定义行为。这对于跟踪以下内容非常有用：

- 特定于业务的用户流程
- 未自动捕获的复杂交互
- 单页应用程序中的虚拟页面视图
- 代表重要用户里程碑的自定义事件

### 跟踪自定义行为

要跟踪自定义行为，使用RUM SDK的`addAction`方法：

```javascript
// 跟踪简单的自定义行为
flashcatRum.addAction('click', '添加到购物车按钮', {
  product_id: '12345',
  product_name: '无线耳机',
  price: 99.99,
  currency: 'CNY'
});
```

`addAction`方法接受以下参数：

1. **行为类型**：分类行为的字符串（例如，'click'、'scroll'、'hover'）
2. **行为名称**：行为的描述性名称
3. **行为上下文**：包含关于行为的额外信息的可选对象

### 跟踪用户流程

您可以通过组合多个自定义行为来跟踪复杂的用户流程：

```javascript
// 跟踪用户流程
flashcatRum.addAction('flow_start', '结账流程开始', {
  cart_value: 99.99,
  items_count: 3
});

// 流程中的后续步骤
flashcatRum.addAction('flow_step', '完成配送信息', {
  shipping_method: 'express'
});

// 流程结束
flashcatRum.addAction('flow_complete', '完成购买', {
  order_id: '67890',
  payment_method: 'credit_card'
});
```

### 跟踪虚拟页面视图

对于单页应用程序，您可以跟踪虚拟页面视图：

```javascript
// 跟踪虚拟页面视图
flashcatRum.addAction('page_view', '产品详情页', {
  product_id: '12345',
  product_category: '电子产品'
});
```

## 行为仪表板
---

FlashCat RUM行为仪表板提供应用程序中用户行为的全面视图。要访问仪表板：

1. 登录FlashCat控制台
2. 导航至 **RUM** > **应用程序** > **您的应用程序**
3. 点击 **行为** 选项卡

仪表板包括：

- **行为概览**：一段时间内行为趋势的摘要
- **主要行为**：用户执行的最频繁行为
- **行为分布**：按类型、页面和用户细分的行为细分
- **行为性能**：行为加载时间和错误的分析

## 行为分析
---

FlashCat RUM提供几种工具帮助您分析用户行为：

### 用户流程

可视化应用程序中的常见用户流程，以识别：

- 应用程序中的热门路径
- 用户通常放弃的点
- 意外的导航模式

### 转化漏斗

创建和分析转化漏斗，跟踪用户如何通过多步骤流程进行：

1. 定义漏斗中的步骤（例如，产品查看 → 添加到购物车 → 结账 → 购买）
2. 分析每个步骤之间的转化率
3. 识别高放弃率的步骤
4. 按用户属性、设备类型或位置细分漏斗

### 行为时间

分析用户行为的时间，以识别性能问题：

- 行为之间的时间
- 行为加载时间
- 在每个页面上花费的时间
- 首次交互时间

### 挫折信号

识别与行为相关的用户挫折迹象：

- **暴怒点击**：在同一元素上的多次快速点击
- **无效点击**：在非交互元素上的点击
- **错误点击**：导致错误的点击
- **表单放弃**：用户在部分完成后放弃表单

## 行为回放
---

FlashCat RUM的用户旅程分析允许您分析用户在应用程序中的路径，专注于特定行为：

1. 导航至 **RUM** > **应用程序** > **您的应用程序** > **会话**
2. 按行为类型或行为名称过滤会话
3. 点击会话查看回放
4. 使用行为时间线跳转到会话中的特定行为

这有助于理解用户行为的上下文并识别可用性问题。

## 行为警报
---

FlashCat RUM允许您为行为相关条件设置警报：

1. 导航至 **RUM** > **应用程序** > **您的应用程序** > **警报**
2. 点击 **新建警报**
3. 选择行为指标（例如，行为计数、行为错误率）
4. 定义阈值和条件（例如，结账完成率 < 50%）
5. 配置通知设置
6. 点击 **创建警报**

当警报触发时，您将通过配置的渠道（电子邮件、Slack等）收到通知。

## 隐私考虑
---

在跟踪用户行为时，考虑隐私非常重要：

1. **敏感数据**：避免在行为上下文中捕获敏感用户数据
2. **个人信息**：掩盖或匿名化个人信息
3. **同意**：确保您获得用户同意来跟踪行为
4. **数据保留**：配置适当的数据保留策略

FlashCat RUM提供隐私控制，帮助您遵守GDPR和CCPA等法规：

```javascript
// 配置隐私设置
flashcatRum.init({
  // ... 其他配置选项
  defaultPrivacyLevel: 'mask-user-input',
  actionNameAttribute: 'data-action-name',
  trackUserInteractions: true,
  trackingConsent: 'pending' // 'pending'、'granted'或'not-granted'
});

// 稍后，当获得同意时
flashcatRum.setTrackingConsent('granted');
```

## 最佳实践
---

1. **一致命名**：为自定义行为使用一致的命名约定
2. **上下文数据**：为每个行为包含相关的上下文数据
3. **行为层次结构**：以逻辑层次结构组织行为
4. **性能影响**：注意跟踪过多行为的性能影响
5. **定期分析**：定期分析行为数据以识别趋势和问题
6. **A/B测试**：使用行为跟踪来衡量A/B测试的影响

通过利用FlashCat RUM的用户行为跟踪功能，您可以深入了解用户如何与您的应用程序交互，识别可用性问题，并优化转化流程，从而改善整体用户体验。
