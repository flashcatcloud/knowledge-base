---
title: "é…ç½®é€šçŸ¥æ¨¡ç‰ˆ"
description: "é€šè¿‡è‡ªå®šä¹‰é…ç½®æ¨¡ç‰ˆï¼Œå¯ä»¥å®ç°ä¸ªæ€§åŒ–é€šçŸ¥å†…å®¹çš„éœ€æ±‚"
date: "2024-05-10T10:00:00+08:00"
url: "https://docs.flashcat.cloud/zh/flashduty/template-settings"
---

<!-- >
## è§†é¢‘ä»‹ç»
---
<Video src="https://download.flashcat.cloud/flashduty/video/template.mp4"></Video>
-->

## ä»€ä¹ˆåœºæ™¯ä¼šä½¿ç”¨æ¨¡æ¿ï¼Ÿ
---
ç³»ç»Ÿåœ¨`åˆ†æ´¾æ•…éšœ`æ—¶ï¼Œä½¿ç”¨æ¨¡æ¿æ¸²æŸ“ [Incident](#Incident) å¹¶è§¦å‘é€šçŸ¥ï¼Œåˆ†æ´¾å¯èƒ½å‘ç”Ÿäºä»¥ä¸‹åœºæ™¯ï¼š

1. æ‰‹åŠ¨åˆ›å»ºæ•…éšœå¹¶åˆ†æ´¾
2. ä¸ŠæŠ¥å‘Šè­¦äº‹ä»¶ï¼Œç³»ç»Ÿè‡ªåŠ¨ç”Ÿæˆæ•…éšœï¼ŒæŒ‰åŒ¹é…åˆ°çš„åˆ†æ´¾ç­–ç•¥è¿›è¡Œåˆ†æ´¾
3. æ•…éšœåˆ›å»ºåï¼Œæ‰‹åŠ¨æ›´æ”¹åˆ†æ´¾ï¼Œå³é‡æ–°åˆ†æ´¾
4. æ ¹æ®åˆ†æ´¾ç­–ç•¥è®¾ç½®ï¼Œç³»ç»Ÿè‡ªåŠ¨å‡çº§åˆ†æ´¾
5. æ•…éšœå…³é—­åé‡æ–°æ‰“å¼€ï¼ŒæŒ‰ç…§ä¹‹å‰çš„è®¾ç½®ï¼Œé‡æ–°åˆ†æ´¾

æˆ‘ä»¬ä½¿ç”¨ `Golangæ¨¡æ¿è¯­æ³•` [template/html](https://pkg.go.dev/html/template@go1.18.1) è§£ææ•°æ®ï¼Œæ‚¨å¯å®Œæˆä»»ä½•å¤æ‚çš„æ¸²æŸ“éœ€æ±‚ã€‚

- ä¸­æ–‡æ–‡æ¡£è¯·å‚è€ƒ [è¿™é‡Œ](https://www.topgoer.com/%E5%B8%B8%E7%94%A8%E6%A0%87%E5%87%86%E5%BA%93/template.html#%E6%A8%A1%E6%9D%BF%E8%AF%AD%E6%B3%95)ï¼Œæ”¯æŒé€»è¾‘åˆ¤æ–­ã€å¾ªç¯ã€pipeline ä»¥åŠå¸¸ç”¨å‡½æ•°ï¼›
- æˆ‘ä»¬å¼•ç”¨äº†å¼€æºåº“ [sprig](https://github.com/flashcatcloud/sprig/tree/flashcat)ï¼Œå…¶ä¸­åŒ…æ‹¬ä¸Šç™¾ä¸ªå¸¸ç”¨å‡½æ•°ï¼Œæ‚¨å¯ç›´æ¥åœ¨æ¨¡æ¿ä¸­ç›´æ¥è°ƒç”¨ï¼›
- å¦‚æœæ‚¨æœŸæœ›å¼•å…¥æ›´å¤šå‡½æ•°ï¼Œæ¬¢è¿æäº¤ merge request

## æˆ‘å¯ä»¥å¼•ç”¨å“ªäº›å˜é‡ï¼Ÿ
---
**å¼•ç”¨å˜é‡ç¤ºä¾‹**ï¼š

```
// å¼•ç”¨æ ‡é¢˜
{{.Title}}

// å¼•ç”¨å‘èµ·äººåç§°
{{.Creator.PersonName}}

// å¼•ç”¨resourceæ ‡ç­¾å€¼
{{.Labels.resource}}

// å¼•ç”¨å‘½åä¸­å¸¦â€.â€œçš„æ ‡ç­¾å€¼
{{index .Labels "A.B"}}
```

**å®Œæ•´å˜é‡åˆ—è¡¨**ï¼ˆç›´æ¥å¼•ç”¨ï¼‰ï¼š
<span id="Incident"></span>
å­—æ®µ|ç±»å‹|å¿…å«|é‡Šä¹‰
:-:|:-:|:-:|:---
ID | string | æ˜¯ | æ•…éšœ ID
`Title` | string | æ˜¯ | æ•…éšœæ ‡é¢˜
`Description` | string | æ˜¯ | æ•…éšœæè¿°ï¼Œå¯èƒ½ä¸ºç©º
DetailUrl | string | æ˜¯ | æ•…éšœè¯¦æƒ…é¡µåœ°å€
Num | string | æ˜¯ | æ•…éšœçŸ­æ ‡è¯†ï¼Œä»…ç”¨äºæ–¹ä¾¿è‚‰çœ¼è¯†åˆ«ï¼Œå¯èƒ½é‡å¤
`IncidentSeverity` | string | æ˜¯ | ä¸¥é‡ç¨‹åº¦ï¼Œæšä¸¾å€¼ï¼šCriticalï¼ŒWarningï¼ŒInfo
IncidentStatus | string | æ˜¯ | æ•…éšœçŠ¶æ€ï¼Œæšä¸¾å€¼ï¼šCriticalï¼ŒWarningï¼ŒInfoï¼ŒOk
`Progress` | string | æ˜¯ | å¤„ç†è¿›åº¦ï¼Œæšä¸¾å€¼ï¼šTriggeredï¼ŒProcessingï¼ŒClosed
`StartTime` | int64 | æ˜¯ | è§¦å‘æ—¶é—´ï¼ŒUnix ç§’æ—¶é—´æˆ³
LastTime | int64 | å¦ | æœ€æ–°äº‹ä»¶æ—¶é—´ï¼Œå…³è”å‘Šè­¦ä¸­çš„æœ€æ–°åˆå…¥äº‹ä»¶æ—¶é—´ï¼ŒUnix ç§’æ—¶é—´æˆ³ï¼Œé»˜è®¤ä¸º 0
EndTime | int64 | å¦ | æ¢å¤æ—¶é—´ï¼Œå…³è”çš„å‘Šè­¦å…¨éƒ¨æ¢å¤æ—¶ï¼Œæ•…éšœä¼šè‡ªåŠ¨æ¢å¤ä¸”è‡ªåŠ¨å…³é—­ã€‚Unix ç§’æ—¶é—´æˆ³ï¼Œé»˜è®¤ä¸º 0
SnoozedBefore | int64 | å¦ | å±è”½æˆªæ­¢æ—¶é—´ï¼ŒUnix ç§’æ—¶é—´æˆ³ï¼Œé»˜è®¤ä¸º 0
AckTime | int64 | å¦ | é¦–æ¬¡è®¤é¢†æ—¶é—´ï¼ŒUnix ç§’æ—¶é—´æˆ³ï¼Œé»˜è®¤ä¸º 0
CloseTime | int64 | å¦ | å…³é—­æ—¶é—´ï¼Œend_time ä¸ºæ•…éšœæ¢å¤æ—¶é—´ï¼Œclose_time ä¸ºå¤„ç†è¿›åº¦çš„å…³é—­æ—¶é—´ï¼Œæ•…éšœæ¢å¤æ—¶ä¼šè‡ªåŠ¨å…³é—­ï¼Œæ•…éšœæ‰‹åŠ¨å…³é—­æ—¶ä¸å½±å“æ•…éšœæ¢å¤ã€‚Unix ç§’æ—¶é—´æˆ³ï¼Œé»˜è®¤ä¸º 0
Creator | [Person](#Person) | å¦ | å‘èµ·äººä¿¡æ¯ï¼Œç³»ç»Ÿè‡ªåŠ¨ç”Ÿæˆæ—¶ä¸å­˜åœ¨
Closer | [Person](#Person) | å¦ | å…³é—­äººä¿¡æ¯ï¼Œæ•…éšœè‡ªåŠ¨æ¢å¤æ—¶ä¸å­˜åœ¨
AssignedTo | [Assignment](Assignment) | å¦ | åˆ†æ´¾é…ç½®
Responders | [][Responder](#Responder) | å¦ | å¤„ç†äººåˆ—è¡¨ï¼Œæ ¹æ®åˆ†æ´¾é…ç½®åˆå§‹åŒ–ï¼Œå¦‚æœæœ‰éåˆ†æ´¾äººå‘˜è®¤é¢†äº†æ•…éšœï¼Œä¹Ÿä¼šå­˜åœ¨å¯¹åº”è®°å½•
ChannelID | int64 | å¦ | åä½œç©ºé—´ IDï¼Œå½“æ‰‹åŠ¨åˆ›å»ºå…¨å±€æ•…éšœæ—¶å€¼ä¸º 0
ChannelName | string | å¦ | åä½œç©ºé—´åç§°
GroupMethod | string | å¦ | èšåˆæ–¹å¼ï¼Œæšä¸¾å€¼ï¼šnï¼šä¸èšåˆï¼Œpï¼šæŒ‰è§„åˆ™èšåˆï¼Œiï¼šæ™ºèƒ½èšåˆ
`Labels` | map[string]string | å¦ | æ ‡ç­¾ KVï¼ŒKey å’Œ Value å‡ä¸ºå­—ç¬¦ä¸²ã€‚æ‰‹åŠ¨åˆ›å»ºæ—¶æ— æ­¤ä¿¡æ¯ï¼Œè‡ªåŠ¨åˆ›å»ºæ—¶ä¸ºèšåˆçš„ç¬¬ä¸€æ¡å‘Šè­¦çš„æ ‡ç­¾ä¿¡æ¯
AlertCnt | int64 | æ˜¯ | å…³è”å‘Šè­¦ä¸ªæ•°
Alerts | [][Alert](#Alert) | å¦ | å…³è”å‘Šè­¦è¯¦æƒ…ï¼Œæ‰‹åŠ¨åˆ›å»ºæ—¶æ— æ­¤ä¿¡æ¯
FireType | string | å¦ | é€šçŸ¥ç±»å‹ï¼Œæšä¸¾å€¼ï¼šfireï¼šé€šçŸ¥ï¼Œrefireï¼šå¾ªç¯é€šçŸ¥
IsFlapping | bool | å¦ | æ˜¯å¦å¤„äºæŠ–åŠ¨çŠ¶æ€ï¼Œå³é¢‘ç¹å‘ç”Ÿä¸æ¢å¤ï¼Œä¸æ”¶æ•›é…ç½®æœ‰å…³
Impact | string | å¦ | æ•…éšœå½±å“ï¼Œæ•…éšœå…³é—­åå¡«å†™
RootCause | string | å¦ | æ•…éšœæ ¹å› ï¼Œæ•…éšœå…³é—­åå¡«å†™
Resolution | string | å¦ | æ•…éšœè§£å†³åŠæ³•ï¼Œæ•…éšœå…³é—­åå¡«å†™

<span id="Person"></span>
**Person**ï¼ˆé—´æ¥å¼•ç”¨ï¼‰:
å­—æ®µ|ç±»å‹|å¿…å«|é‡Šä¹‰
:-:|:-:|:-:|:---
person_id | int64 | æ˜¯ | äººå‘˜ ID
person_name | string | æ˜¯ | äººå‘˜åç§°
email | string | æ˜¯ | é‚®ä»¶åœ°å€

<span id="Assignment"></span>
**Assignment**ï¼ˆé—´æ¥å¼•ç”¨ï¼‰:
å­—æ®µ|ç±»å‹|å¿…å«|é‡Šä¹‰
:-:|:-:|:-:|:---
PersonIDs | []string| å¦ | äººå‘˜ ID åˆ—è¡¨ï¼Œä»…å½“æŒ‰ç…§äººå‘˜åˆ†æ´¾æ—¶å­˜åœ¨
EscalateRuleID | string | å¦ | åˆ†æ´¾ç­–ç•¥ IDï¼Œä»…å½“æŒ‰ç…§ç­–ç•¥åˆ†æ´¾æ—¶å­˜åœ¨
EscalateRuleName | string | å¦ | åˆ†æ´¾ç­–ç•¥åç§°
LayerIdx | string | å¦ | åˆ†æ´¾ç¯èŠ‚ï¼Œå¯¹åº”åˆ†æ´¾ç­–ç•¥çš„å±‚çº§ç´¢å¼•ï¼Œä» 0 å¼€å§‹
Type | string | æ˜¯ | åˆ†æ´¾ç±»å‹ï¼Œæšä¸¾å€¼ï¼šassignï¼šåˆ†æ´¾ï¼Œreassignï¼šé‡æ–°åˆ†æ´¾ï¼Œescalateï¼šå‡çº§åˆ†æ´¾ï¼Œreopenï¼šé‡å¼€åˆ†æ´¾

<span id="Responder"></span>
**Responder**ï¼ˆé—´æ¥å¼•ç”¨ï¼‰:
å­—æ®µ|ç±»å‹|å¿…å«|é‡Šä¹‰
:-:|:-:|:-:|:---
PersonID | int64 | æ˜¯ | äººå‘˜ ID
PersonName | string | æ˜¯ | äººå‘˜åç§°
Email | string | æ˜¯ | é‚®ä»¶åœ°å€
AssignedAt | int64 | æ˜¯ | åˆ†æ´¾æ—¶é—´ï¼ŒUnix ç§’æ—¶é—´æˆ³ï¼Œé»˜è®¤ä¸º 0
AcknowledgedAt | int64 | å¦ | è®¤é¢†æ—¶é—´ï¼ŒUnix ç§’æ—¶é—´æˆ³ï¼Œé»˜è®¤ä¸º 0

<span id="Alert"></span>
**Alert**ï¼ˆé—´æ¥å¼•ç”¨ï¼‰:
å­—æ®µ|ç±»å‹|å¿…å«|é‡Šä¹‰
:-:|:-:|:-:|:---
Title | string | æ˜¯ | å‘Šè­¦æ ‡é¢˜
Description | string | æ˜¯ | å‘Šè­¦æè¿°ï¼Œå¯èƒ½ä¸ºç©º
AlertSeverity | string | æ˜¯ | ä¸¥é‡ç¨‹åº¦ï¼Œæšä¸¾å€¼ï¼šCriticalï¼ŒWarningï¼ŒInfo
AlertStatus | string | æ˜¯ | å‘Šè­¦çŠ¶æ€ï¼Œæšä¸¾å€¼ï¼šCriticalï¼ŒWarningï¼ŒInfoï¼ŒOk
Progress | string | æ˜¯ | å¤„ç†è¿›åº¦ï¼Œæšä¸¾å€¼ï¼šTriggeredï¼ŒProcessingï¼ŒClosed
StartTime | int64 | æ˜¯ | è§¦å‘æ—¶é—´ï¼ŒUnix ç§’æ—¶é—´æˆ³
EndTime | int64 | å¦ | æ¢å¤æ—¶é—´ï¼ŒUnix ç§’æ—¶é—´æˆ³ï¼Œé»˜è®¤ä¸º 0
CloseTime | int64 | å¦ | å…³é—­æ—¶é—´ï¼ŒEndTime ä¸ºå‘Šè­¦æ¢å¤æ—¶é—´ï¼ŒCloseTime ä¸ºå¤„ç†è¿›åº¦çš„å…³é—­æ—¶é—´ï¼Œå‘Šè­¦æ¢å¤æ—¶ä¼šè‡ªåŠ¨å…³é—­ï¼Œå‘Šè­¦æ‰‹åŠ¨å…³é—­æ—¶ä¸å½±å“å‘Šè­¦æ¢å¤ã€‚Unix ç§’æ—¶é—´æˆ³ï¼Œé»˜è®¤ä¸º 0
`Labels` | map[string]string | å¦ | æ ‡ç­¾ KVï¼ŒKey å’Œ Value å‡ä¸ºå­—ç¬¦ä¸²

## å¸¸è§é—®é¢˜
---
1. **æˆ‘å¦‚ä½•çŸ¥é“`Labels`å…·ä½“æœ‰å“ªäº›æ ‡ç­¾ä¿¡æ¯ï¼Ÿ**

   - æ‰‹åŠ¨åˆ›å»ºçš„æ•…éšœæ²¡æœ‰æ ‡ç­¾ï¼›
   - è‡ªåŠ¨åˆ›å»ºçš„æ•…éšœå­˜åœ¨æ ‡ç­¾ï¼Œä¸åˆå…¥çš„ç¬¬ä¸€æ¡å‘Šè­¦çš„æ ‡ç­¾ç›¸åŒã€‚å‰å¾€ `æ•…éšœåˆ—è¡¨` é¡µé¢ï¼Œæ‰¾åˆ°ä¸€æ¡æ•…éšœå¹¶æŸ¥çœ‹æ•…éšœè¯¦æƒ…ï¼Œå¯ä»¥çœ‹åˆ°å…¨éƒ¨æ ‡ç­¾ä¿¡æ¯

2. **æˆ‘é…ç½®æŒ‰ç…§è‡ªå®šä¹‰æ¨¡æ¿æ¸²æŸ“ï¼Œå®é™…å‘é€å†…å®¹å´ä½¿ç”¨äº†`é»˜è®¤æ¨¡æ¿`ï¼Ÿ**

   - åˆ›å»ºè‡ªå®šä¹‰æ¨¡æ¿æ—¶ï¼Œç³»ç»Ÿä½¿ç”¨ mock æ•°æ®æ¥æ¸²æŸ“æ¨¡æ¿ï¼Œä»¥æ£€æŸ¥è¯­æ³•é”™è¯¯ï¼›
   - mock æ•°æ®è¦†ç›–åœºæ™¯æœ‰é™ï¼Œå¯èƒ½æ— æ³•åŒ¹é…åˆ°æ‚¨æ¨¡æ¿ä¸­éƒ¨åˆ†é€»è¾‘åˆ†æ”¯ï¼Œåœ¨å®é™…è¿è¡Œæ—¶ï¼Œå¯èƒ½ä¼šæ¸²æŸ“å¤±è´¥ï¼›
   - æ¸²æŸ“å¤±è´¥åï¼Œç³»ç»Ÿå°†ä½¿ç”¨é»˜è®¤æ¨¡æ¿å…œåº•ï¼Œæ¥ä¿è¯æ¶ˆæ¯å¯è¾¾ï¼›
   - æ¨èæ‚¨åœ¨ä¸ç¡®å®šå¼•ç”¨å˜é‡æ˜¯å¦å­˜åœ¨æ—¶ï¼Œä½¿ç”¨é€»è¾‘åˆ¤æ–­æ¥é¿å…æ¸²æŸ“å¼‚å¸¸ï¼Œå¦‚`resource`æ ‡ç­¾ï¼š

   ```
   // é”™è¯¯åšæ³•ï¼šç›´æ¥è¯»å–æ ‡ç­¾
   {{.Labels.resource}}

   // æ¨èåšæ³•ï¼šå…ˆåˆ¤æ–­ï¼Œå†è¯»å–æ ‡ç­¾
   {{if .Labels.resource}}{{.Labels.resource}}{{end}}
   ```

3. **æ•…éšœæ ‡é¢˜å«æœ‰â€œ>â€ä¹‹ç±»çš„`å­—ç¬¦è½¬ä¹‰`ï¼Ÿ**

   ```
   // ä½¿ç”¨toHtmlå‡½æ•°
   {{toHtml .Title}}

   // ä½¿ç”¨ç¬¬ä¸€ä¸ªä¸ä¸ºç©ºçš„å€¼è¿›è¡Œæ¸²æŸ“ï¼Œé¿å…å†™å¤æ‚çš„ifé€»è¾‘
   {{toHtml .Title .TitleEnglish}}
   ```

4. **æ—¶é—´å˜é‡éƒ½æ˜¯æ—¶é—´æˆ³ç±»å‹ï¼Œå¦‚ä½•`è½¬æ¢æ—¶é—´æ ¼å¼`ï¼Ÿ**

   ```
   // dateå‡½æ•°ï¼Œå°†æ—¶é—´æˆ³è½¬æ¢å¯è¯»æ ¼å¼
   // "2006-01-02 15:04:05"æ˜¯ä¸€ç§å¸¸è§æ ¼å¼ï¼Œæ›´å¤šæ ¼å¼è¯·æ£€ç´¢ç½‘ç»œ
   {{date "2006-01-02 15:04:05" .StartTime}}

   // agoå‡½æ•°ï¼Œå°†æ—¶é—´å·®è½¬æ¢ä¸ºå¯è¯»æ ¼å¼
   {{ago .StartTime}}
   ```

5. **å¦‚ä½•åœ¨ for å¾ªç¯å†…éƒ¨å¼•ç”¨å¤–éƒ¨å˜é‡ï¼Ÿ**
   ```
   // åœ¨å¤–éƒ¨å˜é‡å‰å¢åŠ â€$â€œ
   {{range .Responders}}
   	{{if eq $.Progress "Triggered"}}
   		ã€å¾…å¤„ç†ã€‘{{.Email}}
   	{{end}}
   {{end}}
   ```
6. **å¦‚ä½•æå–å‘½åä¸­å¸¦â€.â€œçš„å­—æ®µå€¼ï¼Œå¦‚æ ‡ç­¾ä¸­çš„â€œobj.instanceâ€çš„ä¿¡æ¯ï¼Ÿ**

   ```
   // ä½¿ç”¨indexå‡½æ•°
   {{index .Labels "obj.instance"}}
   ```

7. **å¦‚ä½•æå–æ•…éšœå…³è”å‘Šè­¦ä¸­æŸä¸ªlabelçš„ä¿¡æ¯å¹¶å»é‡ï¼Ÿ**

   ```
   // ä½¿ç”¨alertLabelså‡½æ•°ï¼Œå¾—åˆ°å»é‡åçš„æ•°ç»„
   {{alertLabels . "resource"}}

   // ä½¿ç”¨joinAlertLabelså‡½æ•°ï¼Œå¾—åˆ°å»é‡åçš„æ•°ç»„ï¼Œç„¶åæŒ‰ç…§â€œsepâ€æ¥æ‹¼æ¥ä¸ºå­—ç¬¦ä¸²
   {{joinAlertLabels . "resource" "sep"}}
   ```

8. **å¦‚ä½•éå†å¹¶æ‰“å°labelsï¼Ÿ**

   ```
   // å®Œæ•´éå†
   {{range $k, $v := .Labels}}
     {{$k}} : {{toHtml $v}}
   {{end}}

   // æ’é™¤å•ä¸ªlabel
   {{range $k, $v := .Labels}}
     {{if ne $k "resource"}}
       {{$k}} : {{toHtml $v}}
     {{end}}
   {{end}}

   // æ’é™¤å¤šä¸ªlabels
   {{range $k, $v := .Labels}}
     {{if not (in $k "resource" "body_text")}}
       {{$k}} : {{toHtml $v}}
     {{end}}
   {{end}}
  
9. **å¦‚ä½•ä» json å­—æ®µä¸­æå–ä¿¡æ¯ï¼Ÿ**
     
   - jsonGet å‡½æ•°å¯ä»¥å¸®åŠ©æ‚¨ä» json æ ¼å¼çš„æ•°æ®ä¸­ï¼Œé€šè¿‡ path æå–å‡ºç¬¦åˆæ¡ä»¶çš„å€¼ã€‚
   - è¢« jsonGet å‡½æ•°æå–çš„ç›®æ ‡æ•°æ®å¿…é¡»æ˜¯åˆæ³•çš„ jsonã€‚
   - åŸºæœ¬ä½¿ç”¨æ–¹æ³•ï¼š{{jsonGet .Labels.xxx "yyy" }}ï¼Œå…¶ä¸­ xxx å¿…é¡»ä¸ºåˆæ³• jsonï¼Œyyy æ˜¯åˆæ³•æå–è·¯å¾„ã€‚
   - json path è¯­æ³•è¯·å‚è€ƒ [gjson.dev](https://gjson.dev/)ï¼Œæ‚¨å¯è¾“å…¥ç›®æ ‡æ•°æ®å’Œæå– pathï¼Œè¿›è¡Œå®æ—¶é¢„è§ˆã€‚
   
    ```
    // æå– rule_note æ ‡ç­¾ä¸­çš„ detail_url å­—æ®µ
    {{jsonGet .Labels.rule_note "detail_url"}}

    // æå– json æ•°ç»„ä¸­ç¬¬ä¸€ä¸ªå…ƒç´ çš„ name å­—æ®µ
    {{jsonGet .Labels.slice "0.name"}}
    
    // éå† json æ•°ç»„çš„æ¯ä¸€ä¸ªå…ƒç´ ï¼ŒåŒ¹é… userId==7777 è¿™ä¸ªå¯¹è±¡çš„ instanceId å­—æ®µ
    {{jsonGet .Labels.rule_note "#(userId==7777)#.instanceId" }}

    ```
10. **å¦‚ä½•ä½¿ç”¨é€»è¾‘ä¸ã€æˆ–ç­‰æ¡ä»¶è¿›è¡Œå†…å®¹æ˜¾ç¤ºåˆ¤æ–­ï¼Ÿ**

    ```
    # æ”¯æŒçš„å‡½æ•°
    - ä½¿ç”¨ `and` å‡½æ•°è¿›è¡Œé€»è¾‘ä¸åˆ¤æ–­
    - ä½¿ç”¨ `or` å‡½æ•°è¿›è¡Œé€»è¾‘æˆ–åˆ¤æ–­
    - ä½¿ç”¨ `not` å‡½æ•°è¿›è¡Œé€»è¾‘éåˆ¤æ–­
    - ä½¿ç”¨ `eq` å‡½æ•°è¿›è¡Œé€»è¾‘ç­‰äºåˆ¤æ–­
    - ä½¿ç”¨ `ne` å‡½æ•°è¿›è¡Œé€»è¾‘ä¸ç­‰äºåˆ¤æ–­
    - ä½¿ç”¨ `gt` å‡½æ•°è¿›è¡Œé€»è¾‘å¤§äºåˆ¤æ–­
    - ä½¿ç”¨ `ge` å‡½æ•°è¿›è¡Œé€»è¾‘å¤§äºç­‰äºåˆ¤æ–­
    - ä½¿ç”¨ `lt` å‡½æ•°è¿›è¡Œé€»è¾‘å°äºåˆ¤æ–­
    - ä½¿ç”¨ `le` å‡½æ•°è¿›è¡Œé€»è¾‘å°äºç­‰äºåˆ¤æ–­

    # ä½¿ç”¨ç¤ºä¾‹
    # ä½¿ç”¨ and å‡½æ•°è¿›è¡Œé€»è¾‘ä¸åˆ¤æ–­
    
    {{if and (eq .Labels.resource "cpu") (eq .Labels.metric "cpu_usage")}}
      {{.Labels.resource}} çš„ CPU ä½¿ç”¨ç‡è¶…è¿‡ 80%
    {{end}}

    # ä½¿ç”¨ or å‡½æ•°è¿›è¡Œé€»è¾‘æˆ–åˆ¤æ–­
    {{if or (eq .Labels.resource "cpu") (eq .Labels.metric "cpu_usage")}}
      {{.Labels.resource}} çš„ CPU ä½¿ç”¨ç‡è¶…è¿‡ 80%
    {{end}}  

    # ä½¿ç”¨ not å‡½æ•°è¿›è¡Œé€»è¾‘éåˆ¤æ–­
    {{if not (eq .Labels.metric "cpu_usage")}}
      {{.Labels.metric}} ä¸æ˜¯ CPU ä½¿ç”¨ç‡
    {{end}}
  
    ```


11. **å¦‚ä½•æŸ¥é˜…æ›´å¤šçš„å‡½æ•°åŠå…¶ä½¿ç”¨ç¤ºä¾‹ï¼Ÿ**
   - å‡½æ•°åˆ—è¡¨ï¼šhttps://github.com/flashcatcloud/sprig/blob/master/functions.go#L97
   - ä½¿ç”¨ç¤ºä¾‹ï¼šæŸ¥çœ‹å¯¹åº”çš„\_test.go æ–‡ä»¶ï¼Œæ¯”å¦‚ date å‡½æ•°æµ‹è¯•ç”¨ä¾‹è§ https://github.com/flashcatcloud/sprig/blob/master/date_test.go

ä»¥ä¸‹ä¸ºå„é€šçŸ¥æ¸ é“å…·ä½“è¯´æ˜ã€‚


<div class="feishu_app hide">

## é£ä¹¦åº”ç”¨
---
æ‚¨éœ€è¦é¢„å…ˆé…ç½® `é›†æˆä¸­å¿ƒ-å³æ—¶æ¶ˆæ¯-é£ä¹¦` é›†æˆï¼Œæ‰èƒ½å‘é€æ¶ˆæ¯å¡ç‰‡ã€‚å¦‚æœä¸è®¾ç½®è‡ªå®šä¹‰å†…å®¹ï¼Œå°†é‡‡ç”¨ç³»ç»Ÿé»˜è®¤æ¨¡æ¿ï¼Œæ¸²æŸ“å…¨éƒ¨æ ‡ç­¾ä¿¡æ¯ï¼š

```
{{if .Description}}**description** :{{toHtml .Labels.body_text .Description}}{{end}}
{{if .Labels.resource}}**resource** : {{toHtml (joinAlertLabels . "resource" ", ")}}{{end}}
{{range $k, $v := .Labels}}
{{if not (in $k "resource" "body_text")}}**{{$k}}** : {{toHtml $v}}{{end}}{{end}}
```

å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š

<img src="https://download.flashcat.cloud/flashduty/changelog/20230720/feishu_app_render.png" alt="drawing" style="display: block; margin: 0 auto;" width="500"/>

å¦‚æœæ‚¨æœŸæœ›ä»…å±•ç¤ºå…³é”®æ ‡ç­¾ä¿¡æ¯ï¼Œå¯ä»¥å‚ç…§ä¸‹è¾¹çš„ä»£ç æ®µï¼š

- æˆ‘ä»¬åˆ—å‡ºäº†ä¸€äº›å¸¸è§æ ‡ç­¾ï¼Œæ‚¨å¯è‡ªè¡Œåˆ å‡ï¼›
- åœ¨é£ä¹¦åº”ç”¨ä¸­ï¼Œç³»ç»Ÿä¼šè‡ªåŠ¨å¸®æ‚¨åˆ é™¤ï¼ˆå› æ ‡ç­¾ä¸å­˜åœ¨å¯¼è‡´çš„ï¼‰æ¸²æŸ“ç©ºè¡Œï¼Œæ‚¨å¯æ”¾å¿ƒé…ç½®

```
{{if (index .Labels "resource")}}resourceï¼š{{toHtml (joinAlertLabels . "resource" ", ")}}{{end}}
{{if (index .Labels "check")}}checkï¼š{{toHtml (index .Labels "check")}}{{end}}
{{if (index .Labels "metric")}}metricï¼š{{index .Labels "metric"}}{{end}}
{{if (index .Labels "prom_ql")}}prom_qlï¼š{{toHtml (index .Labels "prom_ql")}}{{end}}
{{if (index .Labels "host_ql")}}host_qlï¼š{{toHtml (index .Labels "host_ql")}}{{end}}
{{if (index .Labels "trigger_value")}}trigger_valueï¼š{{index .Labels "trigger_value"}}{{end}}
{{if (index .Labels "region")}}regionï¼š{{index .Labels "region"}}{{end}}
{{if (index .Labels "cluster")}}clusterï¼š{{index .Labels "cluster"}}{{end}}
{{if (index .Labels "business")}}businessï¼š{{index .Labels "business"}}{{end}}
{{if (index .Labels "service")}}serviceï¼š{{index .Labels "service"}}{{end}}
{{if (index .Labels "env")}}envï¼š{{index .Labels "env"}}{{end}}
{{if (index .Labels "type")}}typeï¼š{{index .Labels "type"}}{{end}}
{{if (index .Labels "topic")}}topicï¼š{{index .Labels "topic"}}{{end}}
{{if (index .Labels "cpu")}}cpuï¼š{{index .Labels "cpu"}}{{end}}
{{if (index .Labels "device")}}deviceï¼š{{index .Labels "device"}}{{end}}
{{if (index .Labels "path")}}pathï¼š{{index .Labels "path"}}{{end}}
{{if (index .Labels "fstype")}}fstypeï¼š{{index .Labels "fstype"}}{{end}}
{{if (index .Labels "name")}}nameï¼š{{index .Labels "name"}}{{end}}
{{if (index .Labels "mode")}}modeï¼š{{index .Labels "mode"}}{{end}}
{{if (index .Labels "runbook_url")}}runbook_urlï¼š{{toHtml (index .Labels "runbook_url")}}{{end}}
```
</div>

<div class="dingtalk_app hide">

## é’‰é’‰åº”ç”¨
---
æ‚¨éœ€è¦é¢„å…ˆé…ç½® `é›†æˆä¸­å¿ƒ-å³æ—¶æ¶ˆæ¯-é’‰é’‰` é›†æˆï¼Œæ‰èƒ½å‘é€æ¶ˆæ¯å¡ç‰‡ã€‚å¦‚æœä¸è®¾ç½®è‡ªå®šä¹‰å†…å®¹ï¼Œå°†é‡‡ç”¨ç³»ç»Ÿé»˜è®¤æ¨¡æ¿ï¼Œæ¸²æŸ“å…¨éƒ¨æ ‡ç­¾ä¿¡æ¯ï¼š

```
{{if .Description}}**description** :{{toHtml .Labels.body_text .Description}}{{end}}
{{if .Labels.resource}}**resource** : {{toHtml (joinAlertLabels . "resource" ", ")}}{{end}}
{{range $k, $v := .Labels}}
{{if not (in $k "resource" "body_text")}}**{{$k}}** : {{toHtml $v}}{{end}}{{end}}
```

å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š

<img src="https://download.flashcat.cloud/flashduty/changelog/20230720/dingtalk_app_render.png" alt="drawing" style="display: block; margin: 0 auto;" width="500"/>

å¦‚æœæ‚¨æœŸæœ›ä»…å±•ç¤ºå…³é”®æ ‡ç­¾ä¿¡æ¯ï¼Œå¯ä»¥å‚ç…§ä¸‹è¾¹çš„ä»£ç æ®µï¼š

- æˆ‘ä»¬åˆ—å‡ºäº†ä¸€äº›å¸¸è§æ ‡ç­¾ï¼Œæ‚¨å¯è‡ªè¡Œåˆ å‡ï¼›
- åœ¨é’‰é’‰åº”ç”¨ä¸­ï¼Œç³»ç»Ÿä¼šè‡ªåŠ¨å¸®æ‚¨åˆ é™¤ï¼ˆå› æ ‡ç­¾ä¸å­˜åœ¨å¯¼è‡´çš„ï¼‰æ¸²æŸ“ç©ºè¡Œï¼Œæ‚¨å¯æ”¾å¿ƒé…ç½®

```
{{if (index .Labels "resource")}}**resource**ï¼š{{toHtml (joinAlertLabels . "resource" ", ")}}{{end}}
{{if (index .Labels "metric")}}**metric**ï¼š{{index .Labels "metric"}}{{end}}
{{if (index .Labels "prom_ql")}}**prom_ql**ï¼š{{toHtml (index .Labels "prom_ql")}}{{end}}
{{if (index .Labels "trigger_value")}}**trigger_value**ï¼š{{index .Labels "trigger_value"}}{{end}}
{{if (index .Labels "host_ql")}}**host_ql**ï¼š{{toHtml (index .Labels "host_ql")}}{{end}}
{{if (index .Labels "region")}}**region**ï¼š{{index .Labels "region"}}{{end}}
{{if (index .Labels "cluster")}}**cluster**ï¼š{{index .Labels "cluster"}}{{end}}
{{if (index .Labels "business")}}**business**ï¼š{{index .Labels "business"}}{{end}}
{{if (index .Labels "service")}}**service**ï¼š{{index .Labels "service"}}{{end}}
{{if (index .Labels "env")}}**env**ï¼š{{index .Labels "env"}}{{end}}
{{if (index .Labels "type")}}**type**ï¼š{{index .Labels "type"}}{{end}}
{{if (index .Labels "topic")}}**topic**ï¼š{{index .Labels "topic"}}{{end}}
{{if (index .Labels "cpu")}}**cpu**ï¼š{{index .Labels "cpu"}}{{end}}
{{if (index .Labels "device")}}**device**ï¼š{{index .Labels "device"}}{{end}}
{{if (index .Labels "path")}}**path**ï¼š{{index .Labels "path"}}{{end}}
{{if (index .Labels "fstype")}}**fstype**ï¼š{{index .Labels "fstype"}}{{end}}
{{if (index .Labels "name")}}**name**ï¼š{{index .Labels "name"}}{{end}}
{{if (index .Labels "mode")}}**mode**ï¼š{{index .Labels "mode"}}{{end}}
{{if (index .Labels "runbook_url")}}**runbook_url**ï¼š{{index .Labels "runbook_url"}}{{end}}
```
</div>

<div class="wecom_app hide">

## ä¼ä¸šå¾®ä¿¡åº”ç”¨
---

æ‚¨éœ€è¦é¢„å…ˆé…ç½® `é›†æˆä¸­å¿ƒ-å³æ—¶æ¶ˆæ¯-ä¼ä¸šå¾®ä¿¡` é›†æˆï¼Œæ‰èƒ½å‘é€æ¶ˆæ¯å¡ç‰‡ã€‚å¦‚æœä¸è®¾ç½®è‡ªå®šä¹‰å†…å®¹ï¼Œå°†é‡‡ç”¨ç³»ç»Ÿé»˜è®¤æ¨¡æ¿ï¼Œä»…æ¸²æŸ“å¸¸è§æ ‡ç­¾ä¿¡æ¯ï¼š

- æˆ‘ä»¬åˆ—å‡ºäº†ä¸€äº›å¸¸è§æ ‡ç­¾ï¼Œæ‚¨å¯è‡ªè¡Œåˆ å‡ï¼›
- åœ¨ä¼ä¸šå¾®ä¿¡åº”ç”¨ä¸­ï¼Œç³»ç»Ÿä¼šè‡ªåŠ¨å¸®æ‚¨åˆ é™¤ï¼ˆå› æ ‡ç­¾ä¸å­˜åœ¨å¯¼è‡´çš„ï¼‰æ¸²æŸ“ç©ºè¡Œï¼Œæ‚¨å¯æ”¾å¿ƒé…ç½®

```
{{if (index .Labels "resource")}}resourceï¼š{{toHtml (joinAlertLabels . "resource" ", ")}}{{end}}
{{if (index .Labels "metric")}}metricï¼š{{index .Labels "metric"}}{{end}}
{{if (index .Labels "prom_ql")}}prom_qlï¼š{{toHtml (index .Labels "prom_ql")}}{{end}}
{{if (index .Labels "trigger_value")}}trigger_valueï¼š{{index .Labels "trigger_value"}}{{end}}
{{if (index .Labels "host_ql")}}host_qlï¼š{{toHtml (index .Labels "host_ql")}}{{end}}
{{if (index .Labels "region")}}regionï¼š{{index .Labels "region"}}{{end}}
{{if (index .Labels "cluster")}}clusterï¼š{{index .Labels "cluster"}}{{end}}
{{if (index .Labels "business")}}businessï¼š{{index .Labels "business"}}{{end}}
{{if (index .Labels "service")}}serviceï¼š{{index .Labels "service"}}{{end}}
{{if (index .Labels "env")}}envï¼š{{index .Labels "env"}}{{end}}
{{if (index .Labels "type")}}typeï¼š{{index .Labels "type"}}{{end}}
{{if (index .Labels "topic")}}topicï¼š{{index .Labels "topic"}}{{end}}
{{if (index .Labels "cpu")}}cpuï¼š{{index .Labels "cpu"}}{{end}}
{{if (index .Labels "device")}}deviceï¼š{{index .Labels "device"}}{{end}}
{{if (index .Labels "path")}}pathï¼š{{index .Labels "path"}}{{end}}
{{if (index .Labels "fstype")}}fstypeï¼š{{index .Labels "fstype"}}{{end}}
{{if (index .Labels "name")}}nameï¼š{{index .Labels "name"}}{{end}}
{{if (index .Labels "mode")}}modeï¼š{{index .Labels "mode"}}{{end}}
{{if (index .Labels "runbook_url")}}runbook_urlï¼š{{toHtml (index .Labels "runbook_url")}}{{end}}
```

å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š

<img src="https://download.flashcat.cloud/flashduty/changelog/20230720/wecom_app_render.png" alt="drawing" style="display: block; margin: 0 auto;" width="500"/>

**æ³¨æ„ï¼Œä¼ä¸šå¾®ä¿¡é™åˆ¶äº†å¡ç‰‡é•¿åº¦ï¼Œåœ¨æ¨¡æ¿æ¸²æŸ“åŒºåŸŸï¼Œæ‚¨æœ€å¤šå¯ä»¥æ¸²æŸ“ä¸è¶…è¿‡ 8 è¡Œå†…å®¹ï¼Œè¶…è¿‡ 8 è¡Œçš„éƒ¨åˆ†å°†è¢«éšè—**

</div>

<div class="slack_app hide">

## Slack åº”ç”¨
---
æ‚¨éœ€è¦é¢„å…ˆé…ç½® `é›†æˆä¸­å¿ƒ-å³æ—¶æ¶ˆæ¯- Slack` é›†æˆï¼Œæ‰èƒ½å‘é€æ¶ˆæ¯å¡ç‰‡ã€‚å¦‚æœä¸è®¾ç½®è‡ªå®šä¹‰å†…å®¹ï¼Œå°†é‡‡ç”¨ç³»ç»Ÿé»˜è®¤æ¨¡æ¿ï¼Œä»…æ¸²æŸ“å¸¸è§æ ‡ç­¾ä¿¡æ¯ï¼š

```
{{if .Description}}*description* :{{toHtml .Labels.body_text .Description}}{{end}}
{{if .Labels.resource}}*resource* : {{toHtml (joinAlertLabels . "resource" ", ")}}{{end}}
{{range $k, $v := .Labels}}
{{if not (in $k "resource" "body_text")}}*{{$k}}* : {{toHtml $v}}{{end}}{{end}}
```


å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š

<img src="https://download.flashcat.cloud/flashduty/integration/slack/slack_app_message.png" alt="drawing" style="display: block; margin: 0 auto;" width="600"/>

å¦‚æœæ‚¨æœŸæœ›ä»…å±•ç¤ºå…³é”®æ ‡ç­¾ä¿¡æ¯ï¼Œå¯ä»¥å‚ç…§ä¸‹è¾¹çš„ä»£ç æ®µï¼š

- æˆ‘ä»¬åˆ—å‡ºäº†ä¸€äº›å¸¸è§æ ‡ç­¾ï¼Œæ‚¨å¯è‡ªè¡Œåˆ å‡ï¼›
- æ¶ˆæ¯å¯ä»¥å‘é€é•¿åº¦ä¸º15000å·¦å³å­—ç¬¦ï¼Œè¶…å‡ºåæˆªæ–­å‘é€ï¼›
- åœ¨ Slack åº”ç”¨ä¸­ï¼Œç³»ç»Ÿä¼šè‡ªåŠ¨å¸®æ‚¨åˆ é™¤ï¼ˆå› æ ‡ç­¾ä¸å­˜åœ¨å¯¼è‡´çš„ï¼‰æ¸²æŸ“ç©ºè¡Œï¼Œæ‚¨å¯æ”¾å¿ƒé…ç½®

```
{{if (index .Labels "resource")}}*resource*ï¼š{{toHtml (joinAlertLabels . "resource" ", ")}}{{end}}
{{if (index .Labels "metric")}}*metric*ï¼š{{index .Labels "metric"}}{{end}}
{{if (index .Labels "prom_ql")}}*prom_ql*ï¼š{{toHtml (index .Labels "prom_ql")}}{{end}}
{{if (index .Labels "trigger_value")}}*trigger_value*ï¼š{{index .Labels "trigger_value"}}{{end}}
{{if (index .Labels "host_ql")}}*host_ql*ï¼š{{index .Labels "host_ql"}}{{end}}
{{if (index .Labels "region")}}*region*ï¼š{{index .Labels "region"}}{{end}}
{{if (index .Labels "cluster")}}*cluster*ï¼š{{index .Labels "cluster"}}{{end}}
{{if (index .Labels "business")}}*business*ï¼š{{index .Labels "business"}}{{end}}
{{if (index .Labels "service")}}*service*ï¼š{{index .Labels "service"}}{{end}}
{{if (index .Labels "env")}}*env*ï¼š{{index .Labels "env"}}{{end}}
{{if (index .Labels "type")}}*type*ï¼š{{index .Labels "type"}}{{end}}
{{if (index .Labels "topic")}}*topic*ï¼š{{index .Labels "topic"}}{{end}}
{{if (index .Labels "cpu")}}*cpu*ï¼š{{index .Labels "cpu"}}{{end}}
{{if (index .Labels "device")}}*device*ï¼š{{index .Labels "device"}}{{end}}
{{if (index .Labels "path")}}*path*ï¼š{{index .Labels "path"}}{{end}}
{{if (index .Labels "fstype")}}*fstype*ï¼š{{index .Labels "fstype"}}{{end}}
{{if (index .Labels "name")}}*name*ï¼š{{index .Labels "name"}}{{end}}
{{if (index .Labels "mode")}}*mode*ï¼š{{index .Labels "mode"}}{{end}}
{{if (index .Labels "runbook_url")}}*runbook_url*ï¼š{{index .Labels "runbook_url"}}{{end}}
```
</div>

<div class="teams_app hide">

## Microsoft Teams åº”ç”¨
---
æ‚¨éœ€è¦é¢„å…ˆé…ç½® `é›†æˆä¸­å¿ƒ-å³æ—¶æ¶ˆæ¯- Microsoft Teams` é›†æˆï¼Œæ‰èƒ½å‘é€æ¶ˆæ¯å¡ç‰‡ã€‚å¦‚æœä¸è®¾ç½®è‡ªå®šä¹‰å†…å®¹ï¼Œå°†é‡‡ç”¨ç³»ç»Ÿé»˜è®¤æ¨¡æ¿ï¼Œä»…æ¸²æŸ“å¸¸è§æ ‡ç­¾ä¿¡æ¯ï¼š

```
{{if .Description}}**description** :{{toHtml .Labels.body_text .Description}}{{end}}
{{if .Labels.resource}}**resource** : {{toHtml (joinAlertLabels . "resource" ", ")}}{{end}}
{{range $k, $v := .Labels}}
{{if not (in $k "resource" "body_text" "body_text_with_table")}}**{{$k}}** : {{toHtml $v}}{{end}}{{end}}
```


å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š

<img src="https://download.flashcat.cloud/flashduty/integration/microsoft-teams/teams_app_message.png" alt="drawing" style="display: block; margin: 0 auto;" width="300"/>

å¦‚æœæ‚¨æœŸæœ›ä»…å±•ç¤ºå…³é”®æ ‡ç­¾ä¿¡æ¯ï¼Œå¯ä»¥å‚ç…§ä¸‹è¾¹çš„ä»£ç æ®µï¼š

- æˆ‘ä»¬åˆ—å‡ºäº†ä¸€äº›å¸¸è§æ ‡ç­¾ï¼Œæ‚¨å¯è‡ªè¡Œåˆ å‡ï¼›
- æ¶ˆæ¯å¯ä»¥å‘é€é•¿åº¦ä¸º 28KB å·¦å³å­—èŠ‚ï¼Œè¶…å‡ºåæŠ¥é”™ï¼›
- åœ¨ Microsoft Teams åº”ç”¨ä¸­ï¼Œç³»ç»Ÿä¼šè‡ªåŠ¨å¸®æ‚¨åˆ é™¤ï¼ˆå› æ ‡ç­¾ä¸å­˜åœ¨å¯¼è‡´çš„ï¼‰æ¸²æŸ“ç©ºè¡Œï¼Œæ‚¨å¯æ”¾å¿ƒé…ç½®

```
{{if (index .Labels "resource")}}**resource**ï¼š{{toHtml (joinAlertLabels . "resource" ", ")}}{{end}}
{{if (index .Labels "metric")}}**metric**ï¼š{{index .Labels "metric"}}{{end}}
{{if (index .Labels "prom_ql")}}**prom_ql**ï¼š{{toHtml (index .Labels "prom_ql")}}{{end}}
{{if (index .Labels "trigger_value")}}**trigger_value**ï¼š{{index .Labels "trigger_value"}}{{end}}
{{if (index .Labels "host_ql")}}**host_ql**ï¼š{{index .Labels "host_ql"}}{{end}}
{{if (index .Labels "region")}}**region**ï¼š{{index .Labels "region"}}{{end}}
{{if (index .Labels "cluster")}}**cluster**ï¼š{{index .Labels "cluster"}}{{end}}
{{if (index .Labels "business")}}**business**ï¼š{{index .Labels "business"}}{{end}}
{{if (index .Labels "service")}}**service**ï¼š{{index .Labels "service"}}{{end}}
{{if (index .Labels "env")}}**env**ï¼š{{index .Labels "env"}}{{end}}
{{if (index .Labels "type")}}**type**ï¼š{{index .Labels "type"}}{{end}}
{{if (index .Labels "topic")}}**topic**ï¼š{{index .Labels "topic"}}{{end}}
{{if (index .Labels "cpu")}}**cpu**ï¼š{{index .Labels "cpu"}}{{end}}
{{if (index .Labels "device")}}**device**ï¼š{{index .Labels "device"}}{{end}}
{{if (index .Labels "path")}}**path**ï¼š{{index .Labels "path"}}{{end}}
{{if (index .Labels "fstype")}}**fstype**ï¼š{{index .Labels "fstype"}}{{end}}
{{if (index .Labels "name")}}**name**ï¼š{{index .Labels "name"}}{{end}}
{{if (index .Labels "mode")}}**mode**ï¼š{{index .Labels "mode"}}{{end}}
{{if (index .Labels "runbook_url")}}**runbook_url**ï¼š{{index .Labels "runbook_url"}}{{end}}
```
</div>

<div class="feishu hide">

## é£ä¹¦æœºå™¨äºº
---
é£ä¹¦æœºå™¨äººæ”¯æŒæ¶ˆæ¯å¡ç‰‡ï¼Œå¯Œæ–‡æœ¬å’Œæ™®é€šæ–‡æœ¬ä¸‰ç§æ ¼å¼ï¼Œé»˜è®¤æ¨¡ç‰ˆæ˜¯æ¶ˆæ¯å¡ç‰‡æ ¼å¼ã€‚

- msg_type å­—æ®µåœ¨æ¶ˆæ¯å¡ç‰‡å’Œå¯Œæ–‡æœ¬ä¸­å¿…å¡«ï¼Œå¦åˆ™å½“æˆæ™®é€šæ–‡æœ¬æ ¼å¼å‘é€
- æ¶ˆæ¯`æœ€å¤§é•¿åº¦ä¸º4000å­—èŠ‚ï¼Œè¶…å‡ºåæˆªæ–­å‘é€`ï¼›
- å¦‚æœä¸è®¾ç½®è‡ªå®šä¹‰å†…å®¹ï¼Œå°†é‡‡ç”¨ç³»ç»Ÿé»˜è®¤æ¨¡æ¿ï¼Œä»…å±•ç¤ºå…³é”®ä¿¡æ¯ï¼š

1. æ¶ˆæ¯å¡ç‰‡
msg_type å¿…å¡«ï¼Œå€¼ä¸º interactive
```
{
  "msg_type": "interactive",
  "card": {
    "config": {
      "wide_screen_mode": true,
      "enable_forward": true
    },
    "header": {
      "template": "{{if eq .IncidentSeverity "Critical"}}red{{else if eq .IncidentSeverity "Warning"}}orange{{else}}yellow{{end}}",
      "title": {
        "content": "{{fireReason .}}INC #{{.Num}} {{toHtml .Title}}",
        "tag": "plain_text"
      }
    },
    "elements": [{
      "tag": "div",
      "fields": [{
          "text": {
            "tag": "lark_md",
            "content": "**ğŸ¢ åä½œç©ºé—´:**{{if .ChannelName}}{{.ChannelName}}{{else}}æ— {{end}}"
          }
        },
        {
          "text": {
            "tag": "lark_md",
            "content": "**{{if eq .IncidentSeverity "Critical"}}ğŸ”´{{else if eq .IncidentSeverity "Warning"}}âš ï¸{{else}}â„¹ï¸{{end}} ä¸¥é‡ç¨‹åº¦:**{{.IncidentSeverity}}"
          }
        },
        {
          "text": {
            "tag": "lark_md",
            "content": "**â° è§¦å‘æ—¶é—´:**{{date "2006-01-02 15:04:05" .StartTime}}{{if gt .AlertCnt 1}}"
          }
        },
        {
          "text": {
            "tag": "lark_md",
            "content": "**ğŸ”” èšåˆå‘Šè­¦:**{{.AlertCnt}}æ¡ {{end}}{{if .Labels.resource}}"
          }
        },
        {
          "tag": "div",
          "text": {
            "tag": "lark_md",
            "content": "**ğŸ“Œ å‘Šè­¦å¯¹è±¡:**{{toHtml (joinAlertLabels . "resource" ",")}} {{end}}{{if .Description}}"
          }
        },
        {
          "tag": "div",
          "text": {
            "tag": "lark_md",
            "content": "**ğŸ” æ•…éšœæè¿°:**{{.Description}}{{end}}{{if gt (len .Responders) 0}}"
          }
        },
        {
          "tag": "div",
          "text": {
            "tag": "lark_md",
            "content": "**ğŸ‘¨â€ğŸ’» å¤„ç†äººå‘˜:**{{range .Responders}}@{{.PersonName}} {{end}}{{end}}"
          }
        }
      ]
    },
    {
      "tag": "hr"
    },
    {
      "tag": "action",
      "actions": [{
          "tag": "button",
          "text": {
            "tag": "plain_text",
            "content": "æ•…éšœè¯¦æƒ…"
          },
          "type": "primary",
          "url": "{{.DetailUrl}}"
        },
        {
          "tag": "button",
          "text": {
            "tag": "plain_text",
            "content": "è®¤é¢†"
          },
          "type": "primary",
          "url": "{{.DetailUrl}}?ack=1"
        }
      ]
    }]
  }
}
```

2. å¯Œæ–‡æœ¬
msg_type å¿…å¡«ï¼Œå€¼ä¸º post
```
{
    "msg_type": "post",
    "post": {
        "zh_cn": {
            "title": "{{if eq .IncidentSeverity "Critical"}}ğŸ”´{{else if eq .IncidentSeverity "Warning"}}âš ï¸{{else}}â„¹ï¸{{end}} {{fireReason .}}INC #{{.Num}} {{toHtml .Title}}",
            "content": [
                [{
                    "tag": "text",
                    "text": "ğŸ¢ "
                }, {
                    "tag": "text",
                    "text": "åä½œç©ºé—´ï¼š",
                    "text_type": "bold"
                }, {
                    "tag": "text",
                    "text": "{{if .ChannelName}}{{.ChannelName}}{{else}}æ— {{end}}\n"
                }],
                [{
                    "tag": "text",
                    "text": "{{if eq .IncidentSeverity "Critical"}}ğŸ”´{{else if eq .IncidentSeverity "Warning"}}âš ï¸{{else}}â„¹ï¸{{end}} "
                }, {
                    "tag": "text",
                    "text": "ä¸¥é‡ç¨‹åº¦ï¼š",
                    "text_type": "bold"
                }, {
                    "tag": "text",
                    "text": "{{.IncidentSeverity}}\n",
                    "text_type": "{{if eq .IncidentSeverity "Critical"}}bold{{end}}"
                }],
                [{
                    "tag": "text",
                    "text": "â° "
                }, {
                    "tag": "text",
                    "text": "è§¦å‘æ—¶é—´ï¼š",
                    "text_type": "bold"
                }, {
                    "tag": "text",
                    "text": "{{date "2006-01-02 15:04:05" .StartTime}}\n"
                }],
                {{if gt .AlertCnt 1}}[{
                    "tag": "text",
                    "text": "ğŸ”” "
                }, {
                    "tag": "text",
                    "text": "èšåˆå‘Šè­¦ï¼š",
                    "text_type": "bold"
                }, {
                    "tag": "text",
                    "text": "{{.AlertCnt}}æ¡\n"
                }],{{end}}
                {{if .Labels.resource}}[{
                    "tag": "text",
                    "text": "ğŸ“‹ "
                }, {
                    "tag": "text",
                    "text": "å‘Šè­¦å¯¹è±¡ï¼š",
                    "text_type": "bold"
                }, {
                    "tag": "text",
                    "text": "{{toHtml (joinAlertLabels . "resource" ", ")}}\n"
                }],{{end}}
                {{if .Description}}[{
                    "tag": "text",
                    "text": "ğŸ“ "
                }, {
                    "tag": "text",
                    "text": "æè¿°ï¼š",
                    "text_type": "bold"
                }, {
                    "tag": "text",
                    "text": "{{toHtml .Description}}\n"
                }],{{end}}
                {{if gt (len .Responders) 0}}[{
                    "tag": "text",
                    "text": "ğŸ‘¨â€ğŸ’» "
                }, {
                    "tag": "text",
                    "text": "å¤„ç†äººå‘˜ï¼š",
                    "text_type": "bold"
                }, {
                    "tag": "text",
                    "text": "{{range .Responders}}@{{.PersonName}} {{end}}\n"
                }],{{end}}
                [{
                    "tag": "a",
                    "href": "{{.DetailUrl}}",
                    "text": "æ•…éšœè¯¦æƒ…"
                },{
                    "tag": "text",
                    "text": "  "
                },{
                    "tag": "a",
                    "href": "{{.DetailUrl}}?ack=1",
                    "text": "è®¤é¢†"
                }]
            ]
        }
    }
}
```

3. æ™®é€šæ–‡æœ¬
```
{{fireReason .}}INC #{{.Num}} {{toHtml .Title}}
-----
åä½œç©ºé—´ï¼š{{if .ChannelName}}{{.ChannelName}}{{else}}æ— {{end}}
ä¸¥é‡ç¨‹åº¦ï¼š{{.IncidentSeverity}}
è§¦å‘æ—¶é—´ï¼š{{date "2006-01-02 15:04:05" .StartTime}}
æŒç»­æ—¶é•¿ï¼š{{ago .StartTime}}{{if gt .AlertCnt 1}}
èšåˆå‘Šè­¦ï¼š{{.AlertCnt}}æ¡{{end}}{{if .Labels.resource}}
å‘Šè­¦å¯¹è±¡ï¼š{{toHtml (joinAlertLabels . "resource" ", ")}}{{end}}{{if .Description}}
æ•…éšœæè¿°ï¼š{{toHtml .Description}}{{end}}{{if gt (len .Responders) 0}}
åˆ†æ´¾äººå‘˜ï¼š{{range .Responders}}@{{.PersonName}} {{end}}{{end}}
<br>è¯¦æƒ…ï¼š{{.DetailUrl}}
```
</div>


<div class="dingtalk hide">

## é’‰é’‰æœºå™¨äºº
---
é’‰é’‰æœºå™¨äººä»…æ”¯æŒå‘é€ Markdown æ¶ˆæ¯ï¼ˆ[è¯­æ³•é™åˆ¶](https://open.dingtalk.com/document/robots/custom-robot-access#title-7ur-3ok-s1a)ï¼‰ã€‚

- æ¶ˆæ¯`æœ€å¤§é•¿åº¦ä¸º4000å­—èŠ‚ï¼Œè¶…å‡ºåæˆªæ–­å‘é€`ï¼›
- å¦‚æœæ–‡æœ¬ä¸­åŒ…å«`<br>`ï¼Œæ¸²æŸ“æ—¶ä¼š`å…ˆåˆ é™¤ç©ºè¡Œï¼Œå†å°†<br>æ›¿æ¢ä¸ºæ¢è¡Œç¬¦`ï¼›
- å¦‚æœä¸è®¾ç½®è‡ªå®šä¹‰å†…å®¹ï¼Œå°†é‡‡ç”¨ç³»ç»Ÿé»˜è®¤æ¨¡æ¿ï¼Œä»…å±•ç¤ºå…³é”®ä¿¡æ¯ï¼š

```
{{fireReason .}}INC [#{{.Num}}]({{.DetailUrl}}) {{toHtml .Title}}

---
- åä½œç©ºé—´ï¼š{{if .ChannelName}}{{.ChannelName}}{{else}}æ— {{end}}
- ä¸¥é‡ç¨‹åº¦ï¼š{{$s := colorSeverity .IncidentSeverity}}{{toHtml $s}}
- è§¦å‘æ—¶é—´ï¼š{{date "2006-01-02 15:04:05" .StartTime}}
- æŒç»­æ—¶é•¿ï¼š{{ago .StartTime}}{{if gt .AlertCnt 1}}
- èšåˆå‘Šè­¦ï¼š{{.AlertCnt}}æ¡{{end}}{{if .Labels.resource}}
- å‘Šè­¦å¯¹è±¡ï¼š{{toHtml (joinAlertLabels . "resource" ", ")}}{{end}}{{if .Description}}
- æ•…éšœæè¿°ï¼š{{toHtml .Description}}{{end}}{{if gt (len .Responders) 0}}
- åˆ†æ´¾äººå‘˜ï¼š{{range .Responders}}@{{.PersonName}} {{end}}{{end}}
---
<br>[è¯¦æƒ…]({{.DetailUrl}})|[è®¤é¢†]({{.DetailUrl}}?ack=1)
```
</div>

<div class="wecom hide">

## ä¼ä¸šå¾®ä¿¡æœºå™¨äºº
---
ä¼å¾®æœºå™¨äººä»…æ”¯æŒå‘é€ Markdown æ¶ˆæ¯ï¼ˆ[è¯­æ³•é™åˆ¶](https://developer.work.weixin.qq.com/document/path/91770#markdown%E7%B1%BB%E5%9E%8B)ï¼‰ã€‚

- æ¶ˆæ¯`æœ€å¤§é•¿åº¦ä¸º4000å­—èŠ‚ï¼Œè¶…å‡ºåæˆªæ–­å‘é€`ï¼›
- å¦‚æœæ–‡æœ¬ä¸­åŒ…å«`<br>`ï¼Œæ¸²æŸ“æ—¶ä¼š`å…ˆåˆ é™¤ç©ºè¡Œï¼Œå†å°†<br>æ›¿æ¢ä¸ºæ¢è¡Œç¬¦`ï¼›
- å¦‚æœä¸è®¾ç½®è‡ªå®šä¹‰å†…å®¹ï¼Œå°†é‡‡ç”¨ç³»ç»Ÿé»˜è®¤æ¨¡æ¿ï¼Œä»…å±•ç¤ºå…³é”®ä¿¡æ¯ï¼š

```
{{fireReason .}}**INC [#{{.Num}}]({{.DetailUrl}}) {{toHtml .Title}}**
> åä½œç©ºé—´ï¼š<font color="warning">{{if .ChannelName}}{{.ChannelName}}{{else}}æ— {{end}}</font>
> ä¸¥é‡ç¨‹åº¦ï¼š<font color="warning">{{.IncidentSeverity}}</font>
> è§¦å‘æ—¶é—´ï¼š{{date "2006-01-02 15:04:05" .StartTime}}
> æŒç»­æ—¶é•¿ï¼š{{ago .StartTime}}{{if gt .AlertCnt 1}}
> èšåˆå‘Šè­¦ï¼š{{.AlertCnt}}æ¡{{end}}{{if .Labels.resource}}
> å‘Šè­¦å¯¹è±¡ï¼š{{toHtml (joinAlertLabels . "resource" ", ")}}{{end}}{{if .Description}}
> æ•…éšœæè¿°ï¼š{{toHtml .Description}}{{end}}{{if gt (len .Responders) 0}}
> åˆ†æ´¾äººå‘˜ï¼š{{range .Responders}}@{{.PersonName}} {{end}}{{end}}
<br>[è¯¦æƒ…]({{.DetailUrl}})|[è®¤é¢†]({{.DetailUrl}}?ack=1)
```
</div>

<div class="telegram hide">

## Telegram æœºå™¨äºº
---

- é…ç½®å›½å†…èƒ½è®¿é—®çš„TelegramæœåŠ¡åœ°å€ï¼›
- æ¶ˆæ¯`æœ€å¤§é•¿åº¦ä¸º4096å­—ç¬¦ï¼Œè¶…å‡ºåä¸å‘é€`ï¼›
- å¦‚æœæ–‡æœ¬ä¸­åŒ…å«`<br>`ï¼Œæ¸²æŸ“æ—¶ä¼š`å…ˆåˆ é™¤ç©ºè¡Œï¼Œå†å°†<br>æ›¿æ¢ä¸ºæ¢è¡Œç¬¦`ï¼›
- å¦‚æœä¸è®¾ç½®è‡ªå®šä¹‰å†…å®¹ï¼Œå°†é‡‡ç”¨ç³»ç»Ÿé»˜è®¤æ¨¡æ¿ï¼Œä»…å±•ç¤ºå…³é”®ä¿¡æ¯ï¼š

```
{{fireReason .}}INC [#{{.Num}}]({{.DetailUrl}}) {{toHtml .Title}}
-----
åä½œç©ºé—´ï¼š{{if .ChannelName}}{{.ChannelName}}{{else}}æ— {{end}}
ä¸¥é‡ç¨‹åº¦ï¼š{{.IncidentSeverity}}
è§¦å‘æ—¶é—´ï¼š{{date "2006-01-02 15:04:05" .StartTime}}
æŒç»­æ—¶é•¿ï¼š{{ago .StartTime}}{{if gt .AlertCnt 1}}
èšåˆå‘Šè­¦ï¼š{{.AlertCnt}}æ¡{{end}}{{if .Labels.resource}}
å‘Šè­¦å¯¹è±¡ï¼š{{toHtml (joinAlertLabels . "resource" ", ")}}({{.Labels.resource}}){{end}}{{if .Description}}
æ•…éšœæè¿°ï¼š{{toHtml .Description}}{{end}}{{if gt (len .Responders) 0}}
åˆ†æ´¾äººå‘˜ï¼š{{range .Responders}}@{{.PersonName}} {{end}}{{end}}

<br>[è¯¦æƒ…]({{.DetailUrl}})|[è®¤é¢†]({{.DetailUrl}}?ack=1)
```
</div>

<div class="slack hide">

## Slack æœºå™¨äºº
---
- æ¶ˆæ¯`å¯ä»¥å‘é€é•¿åº¦ä¸º15000å·¦å³å­—ç¬¦ï¼Œè¶…å‡ºåæˆªæ–­å‘é€`ï¼›
- å¦‚æœæ–‡æœ¬ä¸­åŒ…å«`<br>`ï¼Œæ¸²æŸ“æ—¶ä¼š`å…ˆåˆ é™¤ç©ºè¡Œï¼Œå†å°†<br>æ›¿æ¢ä¸ºæ¢è¡Œç¬¦`ï¼›
- å¦‚æœä¸è®¾ç½®è‡ªå®šä¹‰å†…å®¹ï¼Œå°†é‡‡ç”¨ç³»ç»Ÿé»˜è®¤æ¨¡æ¿ï¼Œä»…å±•ç¤ºå…³é”®ä¿¡æ¯ï¼š

```
{{fireReason .}}INC <{{.DetailUrl}}|#{{.Num}}> {{toHtml .Title}}
-----
åä½œç©ºé—´ï¼š{{if .ChannelName}}{{.ChannelName}}{{else}}æ— {{end}}
ä¸¥é‡ç¨‹åº¦ï¼š{{.IncidentSeverity}}
è§¦å‘æ—¶é—´ï¼š{{date "2006-01-02 15:04:05" .StartTime}}
æŒç»­æ—¶é•¿ï¼š{{ago .StartTime}}{{if gt .AlertCnt 1}}
èšåˆå‘Šè­¦ï¼š{{.AlertCnt}}æ¡{{end}}{{if .Labels.resource}}
å‘Šè­¦å¯¹è±¡ï¼š{{toHtml (joinAlertLabels . "resource" ", ")}}{{end}}{{if .Description}}
æ•…éšœæè¿°ï¼š{{toHtml .Description}}{{end}}{{if gt (len .Responders) 0}}
åˆ†æ´¾äººå‘˜ï¼š{{range .Responders}}@{{.PersonName}} {{end}}{{end}}
-----
<br><{{.DetailUrl}}|è¯¦æƒ…>|<{{.DetailUrl}}?ack=1|è®¤é¢†>
```
</div>

<div class="zoom hide">

## Zoom æœºå™¨äºº
---
- æ¶ˆæ¯`å¯ä»¥å‘é€é•¿åº¦ä¸º4000å·¦å³å­—ç¬¦ï¼Œè¶…å‡ºåæˆªæ–­å‘é€`ï¼›
- å¦‚æœæ–‡æœ¬ä¸­åŒ…å«`<br>`ï¼Œæ¸²æŸ“æ—¶ä¼š`å…ˆåˆ é™¤ç©ºè¡Œï¼Œå†å°†<br>æ›¿æ¢ä¸ºæ¢è¡Œç¬¦`ï¼›
- æ¶ˆæ¯æ ¼å¼ `éµå¾ªZoomæ¶ˆæ¯æ ¼å¼`ï¼Œå½“å‰æœºå™¨äººåº”ç”¨ä¸æ”¯æŒMarkdownï¼Œå…¶ä»–æ ¼å¼å¯ä»¥å‚è€ƒå®˜ç½‘: https://developers.zoom.us/docs/team-chat-apps/customizing-messages/
- å¦‚æœä¸è®¾ç½®è‡ªå®šä¹‰å†…å®¹ï¼Œå°†é‡‡ç”¨ç³»ç»Ÿé»˜è®¤æ¨¡æ¿ï¼Œä»…å±•ç¤ºå…³é”®ä¿¡æ¯ï¼š

```
{"head": {
    "text": "{{fireReason .}}INC [#{{.Num}}] {{toHtml .Title}}",
    "style": {
      "bold": true,
      "italic": false,
      "color": "{{$s := serverityToColor .IncidentSeverity}}{{toHtml $s}}"
    }
  },
  "body": [
    {
      "type": "message",
      "text": "åä½œç©ºé—´ï¼š{{if .ChannelName}}{{.ChannelName}}{{else}}æ— {{end}}",
      "style": {
        "bold": false,
        "italic": false
      }
    },
    {
      "type": "message",
      "text": "ä¸¥é‡ç¨‹åº¦ï¼š{{.IncidentSeverity}}",
      "style": {
        "bold": false,
        "italic": false,
        "color": "{{$s := serverityToColor .IncidentSeverity}}{{toHtml $s}}"
      }
    },
    {
      "type": "message",
      "text": "æŒç»­æ—¶é•¿ï¼š{{ago .StartTime}}{{if gt .AlertCnt 1}}",
      "style": {
        "bold": false,
        "italic": false
      }
    },
    {
      "type": "message",
      "text": "èšåˆå‘Šè­¦ï¼š{{.AlertCnt}}æ¡{{end}}{{if .Labels.resource}}",
      "style": {
        "bold": false,
        "italic": false
      }
    },
    {
        "type": "message",
        "text": "å‘Šè­¦å¯¹è±¡ï¼š{{.Labels.resource}}{{end}}{{if .Description}}",
        "style": {
          "bold": false,
          "italic": false
        }
      },
    {
      "type": "message",
      "text": "æ•…éšœæè¿°ï¼š{{toHtml .Description}}{{end}}{{if gt (len .Responders) 0}}",
      "style": {
        "bold": false,
        "italic": false
      }
    },
    {
      "type": "message",
      "text": "åˆ†æ´¾äººå‘˜ï¼š{{range .Responders}}@{{.PersonName}}{{end}}{{end}}",
      "style": {
        "bold": false,
        "italic": false
      }
    },
    {
        "type": "message",
        "text": "æŸ¥çœ‹è¯¦æƒ…",
        "link": "{{.DetailUrl}}{{if .IsFlapping}}"
    },
    {
      "type": "message",
      "text": "æ³¨æ„ï¼šå½“å‰æ•…éšœçŠ¶æ€å˜åŒ–é¢‘ç¹ï¼Œå°†æ”¶æ•›é€šçŸ¥{{.Flapping.MuteMinutes}}åˆ†é’Ÿï¼Œå»ºè®®æ‚¨ä¼˜åŒ–å‘Šè­¦ç­–ç•¥ã€‚{{end}}{{if .IsInStorm}}",
      "style": {
        "bold": true,
        "italic": false
      }
    },
    {
      "type": "message",
      "text": "æ³¨æ„ï¼šå½“å‰æ•…éšœå·²èšåˆ{{.AlertCnt}}æ¡å‘Šè­¦ï¼Œè§¦å‘å‘Šè­¦é£æš´ï¼Œè¯·åŠ æ€¥å¤„ç†ï¼{{end}}",
      "style": {
        "bold": true,
        "italic": false
      }
    }
  ]
}
```
</div>


<div class="sms hide">

## çŸ­ä¿¡
---
å¦‚æœä¸è®¾ç½®è‡ªå®šä¹‰å†…å®¹ï¼Œå°†é‡‡ç”¨ç³»ç»Ÿé»˜è®¤æ¨¡æ¿æ¸²æŸ“é€šçŸ¥ï¼š

```
æ‚¨æœ‰æ•…éšœå¾…å¤„ç†ï¼š{{toHtml .Title}}ï¼Œåä½œç©ºé—´ï¼š{{.ChannelName}}ï¼Œç­‰çº§ï¼š{{.IncidentSeverity}}{{if gt .AlertCnt 1}}ï¼Œå…±èšåˆ{{.AlertCnt}}æ¡å‘Šè­¦{{end}}
```
</div>

<div class="email hide">

## é‚®ä»¶
---
å¦‚æœä¸è®¾ç½®è‡ªå®šä¹‰å†…å®¹ï¼Œå°†é‡‡ç”¨ç³»ç»Ÿé»˜è®¤æ¨¡æ¿æ¸²æŸ“é€šçŸ¥ï¼š

```
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<title>{{.Title}}</title>
<html lang="zh">

  <head data-id="__react-email-head">
	<style>
	  .bg-Critical { background-color: #C80000; }
	  .bg-Warning { background-color: #FA7D00; }
	  .bg-Info { background-color: #FABE00; }
	  .bg-Ok { background-color: rgb(132 204 22); }
	  .text-Critical { color: #C80000; }
	  .text-Warning { color: #FA7D00; }
	  .text-Info { color: #FABE00; }
	  .text-Ok { color: rgb(132 204 22); }
	  .text-title {font-weight:500;width:6rem;flex-shrink:0}
	  .text-content {color:rgb(55,65,81)}
	</style>
  </head>

  <body data-id="__react-email-body" style="background-color:rgb(255,255,255);border-radius:0.25rem;margin-top:2.5rem;margin-bottom:2.5rem;margin-left:auto;margin-right:auto;padding:1rem;min-width:400px;max-width:660px;font-family:ui-sans-serif, system-ui, -apple-system, BlinkMacSystemFont, Segoe UI, Roboto, Helvetica Neue, Arial, Noto Sans, sans-serif, Apple Color Emoji, Segoe UI Emoji, Segoe UI Symbol, Noto Color Emoji">
	<div style="width:100%;height:0.375rem;margin-bottom:2rem" class="bg-{{.IncidentSeverity}}"></div>
	<div style="display:flex;align-items:center;margin-bottom:1.5rem">
	  <div style="display:flex;align-items:flex-end;gap:1rem"><img witdh="120" data-id="react-email-img" src="https://console.flashcat.cloud/image/saas-logo.png" height="40" style="display:block;outline:none;border:none;text-decoration:none" /><span style="font-size:1.25rem;line-height:1.75rem;font-weight:600">æ‚¨æœ‰æ•…éšœå¾…å¤„ç†</span></div>
	</div>
	<div style="background-color:rgb(243,244,246);padding:2rem;margin-top:1rem;border-radius:0.5rem">
	  <div style="display:flex;flex-direction:column;gap:0.75rem">
		<div style="display:flex">
		  <div class="text-title">æ•…éšœæ ‡é¢˜</div>
		  <div class="text-content">{{.Title}}</div>
		</div>
		<div style="display:flex">
		  <div class="text-title">ä¸¥é‡ç¨‹åº¦</div>
		  <div class="text-{{.IncidentSeverity}}">{{.IncidentSeverity}}</div>
		</div>
		<div style="display:flex">
		  <div class="text-title">åä½œç©ºé—´</div>
		  <div class="text-content">{{if .ChannelName}}{{.ChannelName}}{{else}}æ— {{end}}</div>
		</div>
		<div style="display:flex">
		  <div class="text-title">è§¦å‘æ—¶é—´</div>
		  <div class="text-content">{{date "2006-01-02 15:04:05" .StartTime}}</div>
		</div>
		{{if .CreatorID}}
		<div style="display:flex">
		  <div class="text-title">å‘èµ·äººå‘˜</div>
		  <div class="text-content">{{.Creator.PersonName}}</div>
		</div>
		{{end}}
		{{if gt (len .Responders) 0}}
		<div style="display:flex">
		  <div class="text-title">åˆ†æ´¾äººå‘˜</div>
		  <div class="text-content">{{range .Responders}}@{{.PersonName}} {{end}}</div>
		</div>
		{{end}}
		<div style="display:flex">
		  <div class="text-title">å¤„ç†è¿›åº¦</div>
		  <div class="text-content">{{.Progress}}</div>
		</div>
		<div style="display:flex">
		  <div class="text-title">æ•…éšœæè¿°</div>
		  <div style="color:rgb(55,65,81);margin-top:0.125rem">
			<div data-id="react-email-markdown">{{toHtml .Description}}</div>
		  </div>
		</div>
		{{if .Labels.resource}}
		<div style="display:flex;margin-bottom:0.5rem;">
		  <div style="color:#000;font-weight:500;width:6rem;margin-right:1rem;">å‘Šè­¦å¯¹è±¡</div>
		  <div style="color:rgb(55,65,81);margin-top:0.125rem">
			<div data-id="react-email-markdown">{{toHtml (joinAlertLabels . "resource" ", ")}}</div>
		  </div>
		</div>
		{{end}}
	  </div>
	  <div style="display:flex;gap:1rem;margin-top:2rem"><a href="{{.DetailUrl}}?ack=1" data-id="react-email-button" target="_blank" style="line-height:100%;text-decoration:none;display:inline-block;max-width:100%;padding:0px 0px"><span></span><span style="max-width:100%;display:inline-block;line-height:120%;mso-padding-alt:0px;mso-text-raise:0"><div style="padding-left:2rem;padding-right:2rem;padding-top:0.5rem;padding-bottom:0.5rem;background-color:rgb(108,83,177);border-radius:0.25rem;font-size:1rem;line-height:1.5rem;color:rgb(255,255,255);font-weight:600;transition-property:color, background-color, border-color, text-decoration-color, fill, stroke, opacity, box-shadow, transform, filter, backdrop-filter;transition-timing-function:cubic-bezier(0.4, 0, 0.2, 1);transition-duration:150ms">ç«‹å³è®¤é¢†</div></span><span></span></a><a href="{{.DetailUrl}}" data-id="react-email-button" target="_blank" style="color:#61dafb;line-height:100%;text-decoration:none;display:inline-block;max-width:100%;padding:0px 0px"><span></span><span style="max-width:100%;display:inline-block;line-height:120%;mso-padding-alt:0px;mso-text-raise:0"><div style="padding-left:2rem;padding-right:2rem;padding-top:0.5rem;padding-bottom:0.5rem;background-color:rgb(255,255,255);border-width: 1px;border-style:solid;border-color:rgb(229,231,235);border-radius:0.25rem;font-size:1rem;line-height:1.5rem;color:rgb(0,0,0);font-weight:600">æŸ¥çœ‹è¯¦æƒ…</div></span><span></span></a></div>
	</div>
	<div style="display:flex;justify-content:flex-end;align-items:flex-end;margin-top:2rem">
	  <div style="font-size:0.875rem;line-height:1.25rem;font-weight:500">ALL RIGHTS RESERVED Â© åŒ—äº¬å¿«çŒ«æ˜Ÿäº‘ç§‘æŠ€æœ‰é™å…¬å¸</div>
	</div>
  </body>

</html>
```

å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š

<img src="https://download.flashcat.cloud/flashduty/changelog/20230720/email_render.png" alt="drawing" style="display: block; margin: 0 auto;" width="500"/>

</div>
